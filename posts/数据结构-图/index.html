<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title class=pjax-title>æ•°æ®ç»“æ„-å›¾ - Backtraxe' World</title><meta name=Description content="Hugo DoIt ä¸»é¢˜å®˜æ–¹æ–‡æ¡£"><meta property="og:title" content="æ•°æ®ç»“æ„-å›¾"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://backtraxe.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9B%BE/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-08T16:51:46+08:00"><meta property="article:modified_time" content="2022-09-12T22:58:47+08:00"><meta property="og:site_name" content="Backtraxe' World"><meta name=twitter:card content="summary"><meta name=twitter:title content="æ•°æ®ç»“æ„-å›¾"><meta name=twitter:description content><meta name=application-name content="traXe"><meta name=apple-mobile-web-app-title content="traXe"><meta name=theme-color content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://backtraxe.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9B%BE/><link rel=prev href=https://backtraxe.github.io/posts/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/><link rel=next href=https://backtraxe.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%93%BE%E8%A1%A8/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/fontawesome-free/all.min.css><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/animate/animate.min.css><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"æ•°æ®ç»“æ„-å›¾","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/backtraxe.github.io\/posts\/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9B%BE\/"},"genre":"posts","keywords":"æ•°æ®ç»“æ„, å›¾","wordcount":8599,"url":"https:\/\/backtraxe.github.io\/posts\/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9B%BE\/","datePublished":"2022-06-08T16:51:46+08:00","dateModified":"2022-09-12T22:58:47+08:00","publisher":{"@type":"Organization","name":"Backtraxe"},"author":{"@type":"Person","name":"Backtraxe"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark")}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"||e==="black"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else"auto"==="light"||"auto"==="dark"||"auto"==="black"?(setTheme("auto"),saveTheme("auto")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#252627",black:"#000000"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")]</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Backtraxe' World">Backtraxe's World</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/categories/>åˆ†ç±» </a><a class=menu-item href=/series/>ç³»åˆ— </a><a class=menu-item href=/categories/documentation/>æ–‡æ¡£ </a><a class=menu-item href=/about/>å…³äº </a><a class=menu-item href=https://github.com/backtraxe title=GitHub rel="noopener noreferrer" target=_blank><i class='fab fa-github fa-fw'></i> </a><span class="menu-item delimiter"></span><a href=# onclick=return!1 class="menu-item language" title=é€‰æ‹©è¯­è¨€>ç®€ä½“ä¸­æ–‡<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select title="Select Language" id=language-select-desktop onchange="location=this.value"><option value=/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9B%BE/ selected>ç®€ä½“ä¸­æ–‡</option></select>
</a><span class="menu-item search" id=search-desktop><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-desktop>
<a href=# onclick=return!1 class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw"></i></a>
<a href=# onclick=return!1 class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=# onclick=return!1 class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Backtraxe' World">Backtraxe's World</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-mobile>
<a href=# onclick=return!1 class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw"></i></a>
<a href=# onclick=return!1 class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=# onclick=return!1 class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=/posts/ title>æ–‡ç« </a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/categories/ title>åˆ†ç±»</a><a class=menu-item href=/series/ title>ç³»åˆ—</a><a class=menu-item href=/categories/documentation/ title>æ–‡æ¡£</a><a class=menu-item href=/about/ title>å…³äº</a><a class=menu-item href=https://github.com/backtraxe title=GitHub rel="noopener noreferrer" target=_blank><i class='fab fa-github fa-fw'></i></a><a href=# onclick=return!1 class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw"></i>
</a><a href=# onclick=return!1 class=menu-item title=é€‰æ‹©è¯­è¨€>ç®€ä½“ä¸­æ–‡<i class="fas fa-chevron-right fa-fw"></i>
<select class=language-select title="Select Language" onchange="location=this.value"><option value=/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%9B%BE/ selected>ç®€ä½“ä¸­æ–‡</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#1æœ¯è¯­è¡¨>1.æœ¯è¯­è¡¨</a></li><li><a href=#2å›¾çš„å­˜å‚¨>2.å›¾çš„å­˜å‚¨</a><ul><li><a href=#21-é‚»æ¥çŸ©é˜µ>2.1 é‚»æ¥çŸ©é˜µ</a></li><li><a href=#22-é‚»æ¥è¡¨>2.2 é‚»æ¥è¡¨</a></li><li><a href=#23-å…¶ä»–>2.3 å…¶ä»–</a><ul><li><a href=#é“¾å¼é‚»æ¥è¡¨>é“¾å¼é‚»æ¥è¡¨</a></li><li><a href=#é“¾å¼å‰å‘æ˜Ÿ>é“¾å¼å‰å‘æ˜Ÿ</a></li></ul></li></ul></li><li><a href=#3å›¾çš„éå†>3.å›¾çš„éå†</a><ul><li><ul><li><a href=#31-æ·±åº¦ä¼˜å…ˆæœç´¢dfs>3.1 æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</a></li><li><a href=#32-å¹¿åº¦ä¼˜å…ˆæœç´¢bfs>3.2 å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</a></li><li><a href=#33-åŒå‘-bfs>3.3 åŒå‘ BFS</a></li></ul></li></ul></li><li><a href=#4ç¯æ£€æµ‹>4.ç¯æ£€æµ‹</a><ul><li><a href=#41-æœ‰å‘å›¾>4.1 æœ‰å‘å›¾</a></li><li><a href=#42-æ— å‘å›¾>4.2 æ— å‘å›¾</a></li></ul></li><li><a href=#5æ‹“æ‰‘æ’åº>5.æ‹“æ‰‘æ’åº</a></li><li><a href=#6äºŒåˆ†å›¾>6.äºŒåˆ†å›¾</a><ul><li><a href=#61-dfs>6.1 DFS</a></li><li><a href=#62-bfs>6.2 BFS</a></li></ul></li><li><a href=#7flood-fill-ç®—æ³•>7.Flood Fill ç®—æ³•</a><ul><li><a href=#71-dfs>7.1 DFS</a></li><li><a href=#72-bfs>7.2 BFS</a><ul><li><a href=#ä¿å­˜åæ ‡çš„å‡ ç§æ–¹å¼>ä¿å­˜åæ ‡çš„å‡ ç§æ–¹å¼</a></li></ul></li></ul></li><li><a href=#8æœ€å°ç”Ÿæˆæ ‘>8.æœ€å°ç”Ÿæˆæ ‘</a><ul><li><a href=#81-kruskal-ç®—æ³•>8.1 Kruskal ç®—æ³•</a></li><li><a href=#82-prim-ç®—æ³•>8.2 Prim ç®—æ³•</a></li></ul></li><li><a href=#9æœ€çŸ­è·¯å¾„>9.æœ€çŸ­è·¯å¾„</a><ul><li><a href=#91-dijkstra-ç®—æ³•>9.1 Dijkstra ç®—æ³•</a></li><li><a href=#92-spfa-ç®—æ³•>9.2 SPFA ç®—æ³•</a></li><li><a href=#93-bellman-ford-ç®—æ³•>9.3 Bellman-Ford ç®—æ³•</a></li><li><a href=#94-floyd-ç®—æ³•>9.4 Floyd ç®—æ³•</a></li><li><a href=#95-a-ç®—æ³•>9.5 A* ç®—æ³•</a></li></ul></li><li><a href=#å®æˆ˜>å®æˆ˜</a><ul><li><a href=#ç¯æ£€æµ‹>ç¯æ£€æµ‹</a><ul><li><a href=#è¯¾ç¨‹è¡¨>ğŸŸ¨è¯¾ç¨‹è¡¨</a></li><li><a href=#ä»¥å›¾åˆ¤æ ‘>ğŸŸ¨ä»¥å›¾åˆ¤æ ‘</a></li></ul></li><li><a href=#æ‹“æ‰‘æ’åº>æ‹“æ‰‘æ’åº</a><ul><li><a href=#è¯¾ç¨‹è¡¨-ii>ğŸŸ¨è¯¾ç¨‹è¡¨ II</a></li><li><a href=#è¯¾ç¨‹è¡¨-iii>ğŸŸ¥è¯¾ç¨‹è¡¨ III</a></li><li><a href=#è¯¾ç¨‹è¡¨-iv>ğŸŸ¨è¯¾ç¨‹è¡¨ IV</a></li><li><a href=#heading></a></li><li><a href=#heading-1></a></li></ul></li><li><a href=#flood-fill>Flood Fill</a><ul><li><a href=#å›¾åƒæ¸²æŸ“>å›¾åƒæ¸²æŸ“</a></li><li><a href=#å²›å±¿æ•°é‡>å²›å±¿æ•°é‡</a></li><li><a href=#è¢«å›´ç»•çš„åŒºåŸŸ>è¢«å›´ç»•çš„åŒºåŸŸ</a></li><li><a href=#å²›å±¿çš„æœ€å¤§é¢ç§¯>å²›å±¿çš„æœ€å¤§é¢ç§¯</a></li></ul></li><li><a href=#æœ€å°ç”Ÿæˆæ ‘>æœ€å°ç”Ÿæˆæ ‘</a><ul><li><a href=#è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨>è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨</a></li></ul></li><li><a href=#å…¶ä»–>å…¶ä»–</a><ul><li><a href=#å°é—­å²›å±¿çš„æ•°é‡>å°é—­å²›å±¿çš„æ•°é‡</a></li><li><a href=#1020-é£åœ°çš„æ•°é‡>1020. é£åœ°çš„æ•°é‡</a></li><li><a href=#695-å²›å±¿çš„æœ€å¤§é¢ç§¯>695. å²›å±¿çš„æœ€å¤§é¢ç§¯</a></li><li><a href=#1905-ç»Ÿè®¡å­å²›å±¿>1905. ç»Ÿè®¡å­å²›å±¿</a></li><li><a href=#694-ä¸åŒå²›å±¿çš„æ•°é‡>694. ä¸åŒå²›å±¿çš„æ•°é‡</a></li></ul></li></ul></li><li><a href=#å‚è€ƒ>å‚è€ƒ</a></li></ul></nav></div></div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle","wide")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">æ•°æ®ç»“æ„-å›¾</h1><div class=post-meta><div class=post-meta-line><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=https://github.com/backtraxe title=Author target=_blank rel="noopener noreferrer author" class=author>Backtraxe</a>
</span>&nbsp;<span class=post-category>æ”¶å½•äº </span>&nbsp;<span class=post-category>ç±»åˆ« <a href=/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/><i class="far fa-folder fa-fw"></i>æ•°æ®ç»“æ„</a>&nbsp;<a href=/categories/%E5%9B%BE/><i class="far fa-folder fa-fw"></i>å›¾</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-06-08>2022-06-08</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime=2022-09-12>2022-09-12</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 8599 å­—&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 18 åˆ†é’Ÿ&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1æœ¯è¯­è¡¨>1.æœ¯è¯­è¡¨</a></li><li><a href=#2å›¾çš„å­˜å‚¨>2.å›¾çš„å­˜å‚¨</a><ul><li><a href=#21-é‚»æ¥çŸ©é˜µ>2.1 é‚»æ¥çŸ©é˜µ</a></li><li><a href=#22-é‚»æ¥è¡¨>2.2 é‚»æ¥è¡¨</a></li><li><a href=#23-å…¶ä»–>2.3 å…¶ä»–</a><ul><li><a href=#é“¾å¼é‚»æ¥è¡¨>é“¾å¼é‚»æ¥è¡¨</a></li><li><a href=#é“¾å¼å‰å‘æ˜Ÿ>é“¾å¼å‰å‘æ˜Ÿ</a></li></ul></li></ul></li><li><a href=#3å›¾çš„éå†>3.å›¾çš„éå†</a><ul><li><ul><li><a href=#31-æ·±åº¦ä¼˜å…ˆæœç´¢dfs>3.1 æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</a></li><li><a href=#32-å¹¿åº¦ä¼˜å…ˆæœç´¢bfs>3.2 å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</a></li><li><a href=#33-åŒå‘-bfs>3.3 åŒå‘ BFS</a></li></ul></li></ul></li><li><a href=#4ç¯æ£€æµ‹>4.ç¯æ£€æµ‹</a><ul><li><a href=#41-æœ‰å‘å›¾>4.1 æœ‰å‘å›¾</a></li><li><a href=#42-æ— å‘å›¾>4.2 æ— å‘å›¾</a></li></ul></li><li><a href=#5æ‹“æ‰‘æ’åº>5.æ‹“æ‰‘æ’åº</a></li><li><a href=#6äºŒåˆ†å›¾>6.äºŒåˆ†å›¾</a><ul><li><a href=#61-dfs>6.1 DFS</a></li><li><a href=#62-bfs>6.2 BFS</a></li></ul></li><li><a href=#7flood-fill-ç®—æ³•>7.Flood Fill ç®—æ³•</a><ul><li><a href=#71-dfs>7.1 DFS</a></li><li><a href=#72-bfs>7.2 BFS</a><ul><li><a href=#ä¿å­˜åæ ‡çš„å‡ ç§æ–¹å¼>ä¿å­˜åæ ‡çš„å‡ ç§æ–¹å¼</a></li></ul></li></ul></li><li><a href=#8æœ€å°ç”Ÿæˆæ ‘>8.æœ€å°ç”Ÿæˆæ ‘</a><ul><li><a href=#81-kruskal-ç®—æ³•>8.1 Kruskal ç®—æ³•</a></li><li><a href=#82-prim-ç®—æ³•>8.2 Prim ç®—æ³•</a></li></ul></li><li><a href=#9æœ€çŸ­è·¯å¾„>9.æœ€çŸ­è·¯å¾„</a><ul><li><a href=#91-dijkstra-ç®—æ³•>9.1 Dijkstra ç®—æ³•</a></li><li><a href=#92-spfa-ç®—æ³•>9.2 SPFA ç®—æ³•</a></li><li><a href=#93-bellman-ford-ç®—æ³•>9.3 Bellman-Ford ç®—æ³•</a></li><li><a href=#94-floyd-ç®—æ³•>9.4 Floyd ç®—æ³•</a></li><li><a href=#95-a-ç®—æ³•>9.5 A* ç®—æ³•</a></li></ul></li><li><a href=#å®æˆ˜>å®æˆ˜</a><ul><li><a href=#ç¯æ£€æµ‹>ç¯æ£€æµ‹</a><ul><li><a href=#è¯¾ç¨‹è¡¨>ğŸŸ¨è¯¾ç¨‹è¡¨</a></li><li><a href=#ä»¥å›¾åˆ¤æ ‘>ğŸŸ¨ä»¥å›¾åˆ¤æ ‘</a></li></ul></li><li><a href=#æ‹“æ‰‘æ’åº>æ‹“æ‰‘æ’åº</a><ul><li><a href=#è¯¾ç¨‹è¡¨-ii>ğŸŸ¨è¯¾ç¨‹è¡¨ II</a></li><li><a href=#è¯¾ç¨‹è¡¨-iii>ğŸŸ¥è¯¾ç¨‹è¡¨ III</a></li><li><a href=#è¯¾ç¨‹è¡¨-iv>ğŸŸ¨è¯¾ç¨‹è¡¨ IV</a></li><li><a href=#heading></a></li><li><a href=#heading-1></a></li></ul></li><li><a href=#flood-fill>Flood Fill</a><ul><li><a href=#å›¾åƒæ¸²æŸ“>å›¾åƒæ¸²æŸ“</a></li><li><a href=#å²›å±¿æ•°é‡>å²›å±¿æ•°é‡</a></li><li><a href=#è¢«å›´ç»•çš„åŒºåŸŸ>è¢«å›´ç»•çš„åŒºåŸŸ</a></li><li><a href=#å²›å±¿çš„æœ€å¤§é¢ç§¯>å²›å±¿çš„æœ€å¤§é¢ç§¯</a></li></ul></li><li><a href=#æœ€å°ç”Ÿæˆæ ‘>æœ€å°ç”Ÿæˆæ ‘</a><ul><li><a href=#è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨>è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨</a></li></ul></li><li><a href=#å…¶ä»–>å…¶ä»–</a><ul><li><a href=#å°é—­å²›å±¿çš„æ•°é‡>å°é—­å²›å±¿çš„æ•°é‡</a></li><li><a href=#1020-é£åœ°çš„æ•°é‡>1020. é£åœ°çš„æ•°é‡</a></li><li><a href=#695-å²›å±¿çš„æœ€å¤§é¢ç§¯>695. å²›å±¿çš„æœ€å¤§é¢ç§¯</a></li><li><a href=#1905-ç»Ÿè®¡å­å²›å±¿>1905. ç»Ÿè®¡å­å²›å±¿</a></li><li><a href=#694-ä¸åŒå²›å±¿çš„æ•°é‡>694. ä¸åŒå²›å±¿çš„æ•°é‡</a></li></ul></li></ul></li><li><a href=#å‚è€ƒ>å‚è€ƒ</a></li></ul></nav></div></div><div class=content id=content><h2 id=1æœ¯è¯­è¡¨ class=headerLink><a href=#1%e6%9c%af%e8%af%ad%e8%a1%a8 class=header-mark></a>1.æœ¯è¯­è¡¨</h2><p>å›¾ï¼ˆgraphï¼‰</p><p><strong>è¾¹ï¼ˆedgeï¼‰</strong>ï¼šè¿æ¥ä¸¤ä¸ªé¡¶ç‚¹ã€‚</p><ul><li>è‡ªç¯ï¼šèµ·ç‚¹å’Œç»ˆç‚¹æ˜¯åŒä¸€ä¸ªé¡¶ç‚¹çš„è¾¹ã€‚</li><li>å¹³è¡Œè¾¹ï¼šè¿æ¥åŒä¸€å¯¹é¡¶ç‚¹çš„ä¸¤æ¡è¾¹ã€‚</li></ul><p>è¾¹æ˜¯å¦å­˜åœ¨æ–¹å‘ï¼š</p><ul><li>æœ‰å‘å›¾ï¼šè¾¹æœ‰æ–¹å‘ã€‚</li><li>æ— å‘å›¾ï¼šè¾¹æ— æ–¹å‘ã€‚</li></ul><p>æ˜¯å¦æœ‰ç¯ï¼š</p><ul><li>æ— ç¯å›¾ï¼šä¸å­˜åœ¨ç¯çš„å›¾ã€‚</li></ul><p>é¡¶ç‚¹ï¼ˆvertexï¼‰</p><p><strong>åº¦ï¼ˆdegreeï¼‰</strong>ï¼šé¡¶ç‚¹è¿æ¥çš„è¾¹çš„æ•°é‡ã€‚</p><ul><li>å…¥åº¦ï¼ˆindegreeï¼‰ï¼š<strong>ç»ˆç‚¹</strong>æ˜¯å½“å‰é¡¶ç‚¹çš„<strong>æœ‰å‘è¾¹</strong>çš„æ•°é‡ï¼ˆåˆ°è¾¾å½“å‰é¡¶ç‚¹ï¼‰ã€‚</li><li>å‡ºåº¦ï¼ˆoutdegreeï¼‰ï¼š<strong>èµ·ç‚¹</strong>æ˜¯å½“å‰é¡¶ç‚¹çš„<strong>æœ‰å‘è¾¹</strong>çš„æ•°é‡ï¼ˆä»å½“å‰é¡¶ç‚¹å‡ºå‘ï¼‰ã€‚</li></ul><p><strong>è·¯å¾„ï¼ˆpathï¼‰</strong>ï¼šç”±è¾¹è¿æ¥çš„ä¸€ç³»åˆ—é¡¶ç‚¹ã€‚</p><ul><li>ç®€å•è·¯å¾„ï¼šæ— é‡å¤é¡¶ç‚¹çš„è·¯å¾„ã€‚</li></ul><p><strong>ç¯ï¼ˆloopï¼‰</strong>ï¼šèµ·ç‚¹å’Œç»ˆç‚¹ç›¸åŒçš„è·¯å¾„ã€‚</p><ul><li>ç®€å•ç¯ï¼šæ— é‡å¤é¡¶ç‚¹çš„ç¯ã€‚</li></ul><p>æ˜¯å¦å­˜åœ¨å¹³è¡Œè¾¹ï¼š</p><ul><li>ç®€å•å›¾ï¼šæ— å¹³è¡Œè¾¹çš„å›¾ã€‚</li><li>å¤šé‡å›¾ï¼šå­˜åœ¨å¹³è¡Œè¾¹çš„å›¾ã€‚</li></ul><p>å­å›¾ï¼šè¾¹å’Œè¿æ¥çš„é¡¶ç‚¹çš„å­é›†ã€‚</p><p><strong>è¿é€šå›¾</strong>ï¼šä»»æ„ä¸€ä¸ªé¡¶ç‚¹éƒ½å­˜åœ¨è·¯å¾„åˆ°è¾¾å¦ä¸€ä¸ªä»»æ„é¡¶ç‚¹ã€‚</p><ul><li>è¿é€šå­å›¾ï¼š</li><li>æå¤§è¿é€šå­å›¾ï¼š</li></ul><p><strong>äºŒåˆ†å›¾</strong>ï¼šèƒ½å°†æ‰€æœ‰é¡¶ç‚¹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†çš„å›¾ï¼Œæ¯æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åˆ†åˆ«å±äºä¸åŒçš„éƒ¨åˆ†ã€‚</p><br><h2 id=2å›¾çš„å­˜å‚¨ class=headerLink><a href=#2%e5%9b%be%e7%9a%84%e5%ad%98%e5%82%a8 class=header-mark></a>2.å›¾çš„å­˜å‚¨</h2><h3 id=21-é‚»æ¥çŸ©é˜µ class=headerLink><a href=#21-%e9%82%bb%e6%8e%a5%e7%9f%a9%e9%98%b5 class=header-mark></a>2.1 é‚»æ¥çŸ©é˜µ</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// mat[u][v] == true è¡¨ç¤ºé¡¶ç‚¹ u åˆ°é¡¶ç‚¹ v å­˜åœ¨ä¸€æ¡æœ‰å‘è¾¹ï¼Œu æ˜¯èµ·ç‚¹ï¼Œv æ˜¯ç»ˆç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>boolean</span><span class=o>[][]</span> <span class=n>mat</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>boolean</span><span class=o>[</span><span class=n>n</span><span class=o>][</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// mat[u][v] == w è¡¨ç¤ºé¡¶ç‚¹ u åˆ°é¡¶ç‚¹ v çš„æœ‰å‘è¾¹çš„è¾¹æƒ w
</span></span></span><span class=line><span class=cl><span class=c1>// å¯å°† mat[u][v] èµ‹å€¼ä¸º 0 æˆ– Integer.MAX_VALUE è¡¨ç¤º u å’Œ v ä¹‹é—´æ— è¾¹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span><span class=o>[][]</span> <span class=n>mat</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>][</span><span class=n>n</span><span class=o>];</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ä¼˜ç‚¹ï¼šå¯å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦ç›¸é‚»</li><li>ç¼ºç‚¹ï¼šå ç”¨ç©ºé—´å¤§</li></ul><br><h3 id=22-é‚»æ¥è¡¨ class=headerLink><a href=#22-%e9%82%bb%e6%8e%a5%e8%a1%a8 class=header-mark></a>2.2 é‚»æ¥è¡¨</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// graph[u] å­˜å‚¨ä»é¡¶ç‚¹ u å¼€å§‹çš„æ‰€æœ‰è¾¹çš„ç»ˆç‚¹é›†åˆ
</span></span></span><span class=line><span class=cl><span class=c1>// graph[u].get(i) == v è¡¨ç¤ºé¡¶ç‚¹ u å¼€å§‹çš„ç¬¬ i æ¡è¾¹çš„ç»ˆç‚¹ v
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;[]</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl><span class=c1>// graph[u].get(i)[0] == v, graph[u].get(i)[1] == w è¡¨ç¤ºé¡¶ç‚¹ u å¼€å§‹çš„ç¬¬ i æ¡è¾¹çš„ç»ˆç‚¹ vï¼Œè¾¹æƒ w
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;[]</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>    <span class=n>graph</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦ç›¸é‚»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;[]</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashSet</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl><span class=n>Set</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;[]</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashSet</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>    <span class=n>graph</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashSet</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦ç›¸é‚»ï¼Œä»é¡¶ç‚¹ u å¼€å§‹çš„æ‰€æœ‰è¾¹çš„ç»ˆç‚¹é›†åˆæœ‰åº
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;[]</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeSet</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl><span class=n>Set</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;[]</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeSet</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>    <span class=n>graph</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TreeSet</span><span class=o>&lt;&gt;();</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>ä¼˜ç‚¹ï¼šå ç”¨ç©ºé—´å°</li><li>ç¼ºç‚¹ï¼šæ— æ³•å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦ç›¸é‚»ï¼ˆç”¨ Set å­˜å‚¨å¯è§£å†³ï¼‰</li></ul><br><h3 id=23-å…¶ä»– class=headerLink><a href=#23-%e5%85%b6%e4%bb%96 class=header-mark></a>2.3 å…¶ä»–</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 1.é‚»æ¥è¡¨ï¼ˆæ— è¾¹æƒï¼‰
</span></span></span><span class=line><span class=cl><span class=c1>// adjList1[u] è¡¨ç¤ºé¡¶ç‚¹ u çš„ç›¸é‚»é¡¶ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;[]</span> <span class=n>adjList1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2.é‚»æ¥è¡¨ æœ‰è¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1>// adjList2[u] = { {v1, w1}, {v2, w2} ... } è¡¨ç¤ºé¡¶ç‚¹ u çš„ç›¸é‚»é¡¶ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;[]</span> <span class=n>adjList2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 3.é‚»æ¥è¡¨ï¼ˆæ— è¾¹æƒï¼Œå¯å¿«é€ŸæŸ¥è¯¢æŸé¡¶ç‚¹æ˜¯å¦ç›¸é‚»ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1>// adjSet[u] è¡¨ç¤ºé¡¶ç‚¹ u çš„ç›¸é‚»é¡¶ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>TreeSet</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;[]</span> <span class=n>adjSet</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 4.é‚»æ¥çŸ©é˜µ
</span></span></span><span class=line><span class=cl><span class=c1>// adjMat[u][v] è¡¨ç¤ºé¡¶ç‚¹ u åˆ° é¡¶ç‚¹ v çš„è¾¹çš„æƒå€¼ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span><span class=o>[][]</span> <span class=n>adjMat</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 5.è¾¹é›†æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1>// edges[i] = { u, v, w } è¡¨ç¤ºç¬¬ i æ¡è¾¹ï¼Œä»é¡¶ç‚¹ u åˆ° é¡¶ç‚¹ vï¼Œæƒå€¼ä¸º wã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span><span class=o>[][]</span> <span class=n>edges</span><span class=o>;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>é‚»æ¥è¡¨<ul><li>ä¼˜ç‚¹ï¼šå ç”¨çš„ç©ºé—´å°‘</li><li>ç¼ºç‚¹ï¼šæ— æ³•å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸é‚»</li><li>é€‚ç”¨äºç¨€ç–å›¾</li></ul></li><li>é‚»æ¥çŸ©é˜µ<ul><li>ä¼˜ç‚¹ï¼šå ç”¨çš„ç©ºé—´å¤š</li><li>ç¼ºç‚¹ï¼šå¯ä»¥å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸é‚»</li><li>é€‚ç”¨äºç¨ å¯†å›¾</li></ul></li></ul><h4 id=é“¾å¼é‚»æ¥è¡¨ class=headerLink><a href=#%e9%93%be%e5%bc%8f%e9%82%bb%e6%8e%a5%e8%a1%a8 class=header-mark></a>é“¾å¼é‚»æ¥è¡¨</h4><p><strong>å®ç°</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// è¾¹çš„å®šä¹‰
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// èµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œè¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¾¹é›†æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1>// edges[j] å­˜å‚¨ç¬¬ j æ¡è¾¹çš„ { èµ·ç‚¹ uï¼Œç»ˆç‚¹ vï¼Œè¾¹æƒ w }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Edge</span><span class=o>[]</span> <span class=n>edges</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=c1>// æˆ–è€… int[][] edges;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// è¡¨å¤´æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1>// adjEdges[u] å­˜å‚¨ u ç‚¹çš„æ‰€æœ‰å‡ºè¾¹çš„ç¼–å·
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;[]</span> <span class=n>adjEdges</span><span class=o>;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>å¯è§†åŒ–</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>è¾“å…¥ï¼š
</span></span><span class=line><span class=cl>6 5
</span></span><span class=line><span class=cl>4 3 90
</span></span><span class=line><span class=cl>1 4 30
</span></span><span class=line><span class=cl>5 6 60
</span></span><span class=line><span class=cl>1 5 20
</span></span><span class=line><span class=cl>5 2 70
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>è¾¹é›†æ•°ç»„ï¼š
</span></span><span class=line><span class=cl>0 { 4, 3, 90 }
</span></span><span class=line><span class=cl>1 { 3, 4, 90 }
</span></span><span class=line><span class=cl>2 { 1, 4, 30 }
</span></span><span class=line><span class=cl>3 { 4, 1, 30 }
</span></span><span class=line><span class=cl>4 { 5, 6, 60 }
</span></span><span class=line><span class=cl>5 { 6, 5, 60 }
</span></span><span class=line><span class=cl>6 { 1, 5, 20 }
</span></span><span class=line><span class=cl>7 { 5, 1, 20 }
</span></span><span class=line><span class=cl>8 { 5, 2, 70 }
</span></span><span class=line><span class=cl>9 { 2, 5, 70 }
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>è¡¨å¤´æ•°ç»„ï¼š
</span></span><span class=line><span class=cl>1 { 2, 6 }
</span></span><span class=line><span class=cl>2 { 9 }
</span></span><span class=line><span class=cl>3 { 1 }
</span></span><span class=line><span class=cl>4 { 0, 3 }
</span></span><span class=line><span class=cl>5 { 4, 7, 8 }
</span></span><span class=line><span class=cl>6 { 5 }
</span></span></code></pre></td></tr></table></div></div><p><strong>ç‰¹ç‚¹</strong></p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š$O(n+m)$</li><li>é€‚ç”¨äºå„ç§å›¾ã€‚</li><li>èƒ½å¤Ÿå¤„ç†åå‘è¾¹ï¼Œè¾¹çš„ç¼–å·ä¸ 1 å¼‚æˆ–å¾—åˆ°åå‘è¾¹ã€‚</li></ul><h4 id=é“¾å¼å‰å‘æ˜Ÿ class=headerLink><a href=#%e9%93%be%e5%bc%8f%e5%89%8d%e5%90%91%e6%98%9f class=header-mark></a>é“¾å¼å‰å‘æ˜Ÿ</h4><p><strong>å®ç°</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// è¾¹çš„å®šä¹‰
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ç»ˆç‚¹ï¼Œè¾¹æƒï¼Œä¸‹ä¸€æ¡è¾¹çš„ç¼–å·
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>,</span> <span class=n>ne</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¾¹é›†æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1>// edges[j] å­˜å‚¨ç¬¬ j æ¡è¾¹çš„ { ç»ˆç‚¹ vï¼Œè¾¹æƒ wï¼Œä¸‹ä¸€æ¡è¾¹çš„ç¼–å· ne }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Edge</span><span class=o>[]</span> <span class=n>edges</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=c1>// æˆ–è€… int[][] edges;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// è¡¨å¤´æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1>// firstEdge[u] å­˜å‚¨ u ç‚¹çš„ç¬¬ä¸€æ¡å‡ºè¾¹çš„ç¼–å·
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span><span class=o>[]</span> <span class=n>firstEdge</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æ·»åŠ è¾¹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>addEdge</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>,</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>w</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Edge</span> <span class=n>e</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Edge</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>e</span><span class=o>.</span><span class=na>v</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>e</span><span class=o>.</span><span class=na>w</span> <span class=o>=</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// å¤´æ’æ³•
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>e</span><span class=o>.</span><span class=na>ne</span> <span class=o>=</span> <span class=n>firstEdge</span><span class=o>[</span><span class=n>u</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=n>edges</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>e</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>firstEdge</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>i</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>å¯è§†åŒ–</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>è¾“å…¥ï¼š
</span></span><span class=line><span class=cl>6 5
</span></span><span class=line><span class=cl>4 3 90
</span></span><span class=line><span class=cl>1 4 30
</span></span><span class=line><span class=cl>5 6 60
</span></span><span class=line><span class=cl>1 5 20
</span></span><span class=line><span class=cl>5 2 70
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>è¾¹é›†æ•°ç»„ï¼š
</span></span><span class=line><span class=cl>0 { 3, 90 }
</span></span><span class=line><span class=cl>1 { 3, 4, 90 }
</span></span><span class=line><span class=cl>2 { 1, 4, 30 }
</span></span><span class=line><span class=cl>3 { 4, 1, 30 }
</span></span><span class=line><span class=cl>4 { 5, 6, 60 }
</span></span><span class=line><span class=cl>5 { 6, 5, 60 }
</span></span><span class=line><span class=cl>6 { 1, 5, 20 }
</span></span><span class=line><span class=cl>7 { 5, 1, 20 }
</span></span><span class=line><span class=cl>8 { 5, 2, 70 }
</span></span><span class=line><span class=cl>9 { 2, 5, 70 }
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>è¡¨å¤´æ•°ç»„ï¼š
</span></span><span class=line><span class=cl>1 { 2, 6 }
</span></span><span class=line><span class=cl>2 { 9 }
</span></span><span class=line><span class=cl>3 { 1 }
</span></span><span class=line><span class=cl>4 { 0, 3 }
</span></span><span class=line><span class=cl>5 { 4, 7, 8 }
</span></span><span class=line><span class=cl>6 { 5 }
</span></span></code></pre></td></tr></table></div></div><p><strong>ç‰¹ç‚¹</strong></p><ul><li>ç©ºé—´å¤æ‚åº¦ï¼š$O(n+m)$</li></ul><h2 id=3å›¾çš„éå† class=headerLink><a href=#3%e5%9b%be%e7%9a%84%e9%81%8d%e5%8e%86 class=header-mark></a>3.å›¾çš„éå†</h2><h4 id=31-æ·±åº¦ä¼˜å…ˆæœç´¢dfs class=headerLink><a href=#31-%e6%b7%b1%e5%ba%a6%e4%bc%98%e5%85%88%e6%90%9c%e7%b4%a2dfs class=header-mark></a>3.1 æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</h4><p>Depth First Search</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>traverse</span><span class=o>(</span><span class=n>Graph</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>boolean</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=n>vis</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>dfs</span><span class=o>(</span><span class=n>Graph</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>boolean</span><span class=o>[]</span> <span class=n>vis</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// å‰åº
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>])</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// æ ‘æ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=o>(!</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>])</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>vis</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ååº
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=32-å¹¿åº¦ä¼˜å…ˆæœç´¢bfs class=headerLink><a href=#32-%e5%b9%bf%e5%ba%a6%e4%bc%98%e5%85%88%e6%90%9c%e7%b4%a2bfs class=header-mark></a>3.2 å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</h4><p>Breadth First Search</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>traverse</span><span class=o>(</span><span class=n>Graph</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>boolean</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>        <span class=n>bfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=n>vis</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>bfs</span><span class=o>(</span><span class=n>Graph</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>start</span><span class=o>,</span> <span class=kt>boolean</span><span class=o>[]</span> <span class=n>vis</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>queue</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Queue</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=n>queue</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>start</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>vis</span><span class=o>[</span><span class=n>start</span><span class=o>]</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>step</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(!</span><span class=n>queue</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>size</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(</span><span class=n>size</span><span class=o>--</span> <span class=o>&gt;</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>])</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=c1>// æ­¤å¤„å¯æ·»åŠ ç»“æŸæ¡ä»¶
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=o>(!</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>])</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>queue</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>step</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=33-åŒå‘-bfs class=headerLink><a href=#33-%e5%8f%8c%e5%90%91-bfs class=header-mark></a>3.3 åŒå‘ BFS</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java></code></pre></td></tr></table></div></div><h2 id=4ç¯æ£€æµ‹ class=headerLink><a href=#4%e7%8e%af%e6%a3%80%e6%b5%8b class=header-mark></a>4.ç¯æ£€æµ‹</h2><h3 id=41-æœ‰å‘å›¾ class=headerLink><a href=#41-%e6%9c%89%e5%90%91%e5%9b%be class=header-mark></a>4.1 æœ‰å‘å›¾</h3><p><a href=https://practice.geeksforgeeks.org/problems/detect-cycle-in-a-directed-graph/1 target=_blank rel="noopener noreferrer">Detect cycle in a directed graph | Practice | GeeksforGeeks</a></p><ul><li>DFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>isCyclic</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span> <span class=c1>// å¯¹æ¯ä¸ªè¿é€šåˆ†é‡éƒ½è¿›è¡Œåˆ¤æ–­
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>dfs</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// åˆ¤æ–­æœ‰å‘å›¾ä»é¡¶ç‚¹ u å¼€å§‹æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>1</span><span class=o>)</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>BFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>isCyclic</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// åˆ¤æ–­æœ‰å‘å›¾ä¸­æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// è®¡ç®—å…¥åº¦
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span><span class=o>[]</span> <span class=n>ind</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>uAdj</span> <span class=o>:</span> <span class=n>graph</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>uAdj</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=n>ind</span><span class=o>[</span><span class=n>v</span><span class=o>]++;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// æ¯æ¬¡å°†å…¥åº¦ä¸º 0 çš„é¡¶ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼ŒåŒæ—¶è®°å½•é¡¶ç‚¹æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>cnt</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>ind</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>u</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>cnt</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(--</span><span class=n>ind</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>cnt</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>cnt</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=42-æ— å‘å›¾ class=headerLink><a href=#42-%e6%97%a0%e5%90%91%e5%9b%be class=header-mark></a>4.2 æ— å‘å›¾</h3><p><a href=https://practice.geeksforgeeks.org/problems/detect-cycle-in-an-undirected-graph/1 target=_blank rel="noopener noreferrer">Detect cycle in an undirected graph | Practice | GeeksforGeeks</a></p><ul><li>å¹¶æŸ¥é›†</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>isCyclic</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// åˆ¤æ–­æ— å‘å›¾ä¸­æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>UnionFind</span> <span class=n>uf</span> <span class=o>=</span> <span class=k>new</span> <span class=n>UnionFind</span><span class=o>(</span><span class=n>n</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>graph</span><span class=o>.</span><span class=na>size</span><span class=o>();</span> <span class=n>u</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>u</span> <span class=o>&lt;</span> <span class=n>v</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=o>(</span><span class=n>uf</span><span class=o>.</span><span class=na>isConnected</span><span class=o>(</span><span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>))</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                    <span class=n>uf</span><span class=o>.</span><span class=na>union</span><span class=o>(</span><span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>UnionFind</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>parent</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>size</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>UnionFind</span><span class=o>(</span><span class=kt>int</span> <span class=n>n</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>parent</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>size</span> <span class=o>=</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>i</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>find</span><span class=o>(</span><span class=kt>int</span> <span class=n>x</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>parent</span><span class=o>[</span><span class=n>x</span><span class=o>]</span> <span class=o>!=</span> <span class=n>x</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=n>parent</span><span class=o>[</span><span class=n>x</span><span class=o>]</span> <span class=o>=</span> <span class=n>find</span><span class=o>(</span><span class=n>parent</span><span class=o>[</span><span class=n>x</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>parent</span><span class=o>[</span><span class=n>x</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isConnected</span><span class=o>(</span><span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>find</span><span class=o>(</span><span class=n>x</span><span class=o>)</span> <span class=o>==</span> <span class=n>find</span><span class=o>(</span><span class=n>y</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>union</span><span class=o>(</span><span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>px</span> <span class=o>=</span> <span class=n>find</span><span class=o>(</span><span class=n>x</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>py</span> <span class=o>=</span> <span class=n>find</span><span class=o>(</span><span class=n>y</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>px</span> <span class=o>!=</span> <span class=n>py</span><span class=o>)</span> <span class=n>size</span><span class=o>--;</span>
</span></span><span class=line><span class=cl>        <span class=n>parent</span><span class=o>[</span><span class=n>py</span><span class=o>]</span> <span class=o>=</span> <span class=n>px</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>DFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>isCyclic</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// åˆ¤æ–­æ— å‘å›¾ä¸­æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span> <span class=c1>// å¯¹æ¯ä¸ªè¿é€šåˆ†é‡éƒ½è¿›è¡Œåˆ¤æ–­
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=o>-</span><span class=n>1</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>dfs</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>pre</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// åˆ¤æ–­æ— å‘å›¾ä»é¡¶ç‚¹ u å¼€å§‹æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>v</span> <span class=o>==</span> <span class=n>pre</span><span class=o>)</span> <span class=k>continue</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>1</span><span class=o>)</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>BFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>isCyclic</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// åˆ¤æ–­æ— å‘å›¾ä¸­æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// è®¡ç®—é¡¶ç‚¹çš„åº¦æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span><span class=o>[]</span> <span class=n>ind</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>uAdj</span> <span class=o>:</span> <span class=n>graph</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>uAdj</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=n>ind</span><span class=o>[</span><span class=n>v</span><span class=o>]++;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// æ¯æ¬¡å°†åº¦æ•°ä¸º 1 çš„é¡¶ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼ŒåŒæ—¶è®°å½•é¡¶ç‚¹æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>cnt</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>ind</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>&lt;=</span> <span class=n>1</span><span class=o>)</span> <span class=o>{</span> <span class=c1>// åŒ…å«å­¤ç«‹é¡¶ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>u</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>cnt</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(--</span><span class=n>ind</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>cnt</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>cnt</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=5æ‹“æ‰‘æ’åº class=headerLink><a href=#5%e6%8b%93%e6%89%91%e6%8e%92%e5%ba%8f class=header-mark></a>5.æ‹“æ‰‘æ’åº</h2><p>æ‹“æ‰‘æ’åºï¼ˆTopological Sortï¼‰ï¼šå¾—åˆ°æœ‰å‘å›¾ $G$ çš„é¡¶ç‚¹çš„ä¸€ä¸ªæ’åˆ—ï¼Œæ»¡è¶³ä»»æ„ä¸€æ¡æœ‰å‘è¾¹ $(u,v)$ï¼Œ$u$ åœ¨æ’åˆ—ä¸­éƒ½åœ¨ $v$ å‰é¢ï¼Œå³ç›¸å¯¹é¡ºåºä¸å˜ã€‚</p><ul><li>DFSï¼šååºæ·»åŠ é¡¶ç‚¹ï¼Œç„¶åé€†åºå³å¯å¾—åˆ°æ‹“æ‰‘æ’åºåºåˆ—ã€‚ï¼ˆæˆ–è€…å»ºå›¾æ—¶é¢ å€’æ¯æ¡è¾¹çš„èµ·å§‹é¡¶ç‚¹å’Œç»“æŸé¡¶ç‚¹ï¼Œåˆ™æœ€åæ— éœ€é€†åºï¼‰</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=nf>topoSort</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// å­˜åœ¨ç¯åˆ™è¿”å› null
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>topo</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=n>topo</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>topo</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>boolean</span> <span class=nf>dfs</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>topo</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// è¿”å›æœ‰å‘å›¾ä¸­æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>1</span><span class=o>)</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>topo</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>topo</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>u</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>BFSï¼šæ¯æ¬¡æ·»åŠ å…¥åº¦ä¸º 0 çš„é¡¶ç‚¹</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=nf>topoSort</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// å­˜åœ¨ç¯åˆ™è¿”å› null
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[]</span> <span class=n>ind</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>u</span> <span class=o>:</span> <span class=n>graph</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>u</span><span class=o>)</span> <span class=n>ind</span><span class=o>[</span><span class=n>v</span><span class=o>]++;</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>topo</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>ind</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span> <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>u</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=n>topo</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>u</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(--</span><span class=n>ind</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span> <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>topo</span><span class=o>.</span><span class=na>size</span><span class=o>()</span> <span class=o>==</span> <span class=n>n</span> <span class=o>?</span> <span class=n>topo</span> <span class=o>:</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=6äºŒåˆ†å›¾ class=headerLink><a href=#6%e4%ba%8c%e5%88%86%e5%9b%be class=header-mark></a>6.äºŒåˆ†å›¾</h2><p>äºŒåˆ†å›¾ï¼šä¸€ä¸ªå›¾çš„é¡¶ç‚¹å¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†ï¼Œä¸”æ¯æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹éƒ½åˆ†å±äºè¿™ä¸¤ä¸ªå­é›†ã€‚</p><p>å¯ä»¥ç”¨ä¸¤ç§é¢œè‰²ç»™é¡¶ç‚¹æŸ“è‰²ä½¿å¾—ç›¸é‚»é¡¶ç‚¹çš„é¢œè‰²å‡ä¸ç›¸åŒã€‚</p><p><a href=https://leetcode.cn/problems/is-graph-bipartite/submissions/ target=_blank rel="noopener noreferrer">785. åˆ¤æ–­äºŒåˆ†å›¾</a></p><h3 id=61-dfs class=headerLink><a href=#61-dfs class=header-mark></a>6.1 DFS</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isBipartite</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span> <span class=c1>// éè¿é€šå›¾
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=n>vis</span><span class=o>,</span> <span class=n>1</span><span class=o>))</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span><span class=o>,</span> <span class=kt>int</span> <span class=n>color</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>color</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>])</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>])</span> <span class=k>return</span> <span class=kc>false</span><span class=o>;</span> <span class=c1>// ç›¸é‚»ç»“ç‚¹é¢œè‰²ç›¸åŒ
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>vis</span><span class=o>,</span> <span class=o>-</span><span class=n>color</span><span class=o>))</span> <span class=c1>// ä¸¤ç§é¢œè‰² 1 -1
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>return</span> <span class=kc>false</span><span class=o>;</span> <span class=c1>// å‰ªæ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=62-bfs class=headerLink><a href=#62-bfs class=header-mark></a>6.2 BFS</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isBipartite</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>u</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>u</span><span class=o>++)</span> <span class=c1>// éè¿é€šå›¾
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>bfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=nf>bfs</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>i</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>vis</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>size</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>while</span> <span class=o>(</span><span class=n>size</span><span class=o>--</span> <span class=o>&gt;</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>                <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>])</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>==</span> <span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>])</span> <span class=k>return</span> <span class=kc>false</span><span class=o>;</span> <span class=c1>// ç›¸é‚»ç»“ç‚¹é¢œè‰²ç›¸åŒ
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                        <span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>=</span> <span class=o>-</span><span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>];</span> <span class=c1>// ä¸¤ç§é¢œè‰² 1 -1
</span></span></span><span class=line><span class=cl><span class=c1></span>                        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=o>}</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=7flood-fill-ç®—æ³• class=headerLink><a href=#7flood-fill-%e7%ae%97%e6%b3%95 class=header-mark></a>7.Flood Fill ç®—æ³•</h2><p>ä¹Ÿç§°æ´ªæ°´æ‰©æ•£ç®—æ³•ï¼Œä»ä¸€ä¸ªå•å…ƒæ ¼å‘å››å‘¨æ‰©æ•£ã€‚</p><p><a href=https://leetcode.cn/problems/number-of-islands/ target=_blank rel="noopener noreferrer">200. å²›å±¿æ•°é‡</a></p><h3 id=71-dfs class=headerLink><a href=#71-dfs class=header-mark></a>7.1 DFS</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>numIslands</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>grid</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>grid</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>grid</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>grid</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>ans</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>                    <span class=n>dfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;1&#39;</span><span class=o>,</span> <span class=sc>&#39;2&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>mat</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v1</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=n>mat</span><span class=o>.</span><span class=na>length</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&gt;=</span> <span class=n>mat</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span> <span class=o>||</span> <span class=n>mat</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>!=</span> <span class=n>v1</span><span class=o>)</span> <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>mat</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>mat</span><span class=o>,</span> <span class=n>x</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>mat</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>mat</span><span class=o>,</span> <span class=n>x</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>mat</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=72-bfs class=headerLink><a href=#72-bfs class=header-mark></a>7.2 BFS</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>m</span><span class=o>,</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[][]</span> <span class=n>dir</span> <span class=o>=</span> <span class=o>{</span> <span class=o>{</span> <span class=n>0</span><span class=o>,</span> <span class=n>1</span> <span class=o>},</span> <span class=o>{</span> <span class=n>0</span><span class=o>,</span> <span class=o>-</span><span class=n>1</span> <span class=o>},</span> <span class=o>{</span> <span class=n>1</span><span class=o>,</span> <span class=n>0</span> <span class=o>},</span> <span class=o>{</span> <span class=o>-</span><span class=n>1</span><span class=o>,</span> <span class=n>0</span> <span class=o>}</span> <span class=o>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>numIslands</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>grid</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>m</span> <span class=o>=</span> <span class=n>grid</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span> <span class=o>=</span> <span class=n>grid</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>grid</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>ans</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>                    <span class=n>bfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;1&#39;</span><span class=o>,</span> <span class=sc>&#39;2&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>bfs</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>mat</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v1</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>mat</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>!=</span> <span class=n>v1</span><span class=o>)</span> <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>x</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>y</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>mat</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>x</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>y</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>d</span> <span class=o>:</span> <span class=n>dir</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>xx</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>yy</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>1</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>xx</span> <span class=o>&gt;=</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>xx</span> <span class=o>&lt;</span> <span class=n>m</span> <span class=o>&amp;&amp;</span> <span class=n>yy</span> <span class=o>&gt;=</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>yy</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>mat</span><span class=o>[</span><span class=n>xx</span><span class=o>][</span><span class=n>yy</span><span class=o>]</span> <span class=o>==</span> <span class=n>v1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>xx</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>yy</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>mat</span><span class=o>[</span><span class=n>xx</span><span class=o>][</span><span class=n>yy</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=ä¿å­˜åæ ‡çš„å‡ ç§æ–¹å¼ class=headerLink><a href=#%e4%bf%9d%e5%ad%98%e5%9d%90%e6%a0%87%e7%9a%84%e5%87%a0%e7%a7%8d%e6%96%b9%e5%bc%8f class=header-mark></a>ä¿å­˜åæ ‡çš„å‡ ç§æ–¹å¼</h4><ol><li>æ•°ç»„ä¿å­˜ã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=k>new</span> <span class=kt>int</span><span class=o>[]</span> <span class=o>{</span> <span class=n>r</span><span class=o>,</span> <span class=n>c</span> <span class=o>});</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>[]</span> <span class=n>p</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=o>[</span><span class=n>1</span><span class=o>];</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>åˆ†å¼€ä¿å­˜ã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>r</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>c</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>y</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>æ•°å­¦è®¡ç®—ã€‚æ³¨æ„é˜²æ­¢æº¢å‡ºã€‚</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>r</span> <span class=o>*</span> <span class=n>n</span> <span class=o>+</span> <span class=n>c</span><span class=o>);</span> <span class=c1>// n æ˜¯åˆ—å®½
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>y</span> <span class=o>=</span> <span class=n>x</span> <span class=o>%</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>/=</span> <span class=n>n</span><span class=o>;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=8æœ€å°ç”Ÿæˆæ ‘ class=headerLink><a href=#8%e6%9c%80%e5%b0%8f%e7%94%9f%e6%88%90%e6%a0%91 class=header-mark></a>8.æœ€å°ç”Ÿæˆæ ‘</h2><p>ä»ä¸€ä¸ª n ä¸ªé¡¶ç‚¹çš„è¿é€šå›¾ä¸­ç”ŸæˆåŒ…å« n ä¸ªé¡¶ç‚¹å’Œ n - 1 æ¡è¾¹ï¼Œä¸”è¾¹æƒä¹‹å’Œæœ€å°çš„æ ‘ã€‚</p><h3 id=81-kruskal-ç®—æ³• class=headerLink><a href=#81-kruskal-%e7%ae%97%e6%b3%95 class=header-mark></a>8.1 Kruskal ç®—æ³•</h3><p><strong>æ­¥éª¤ï¼š</strong></p><ol><li>å°†å›¾ $G=(V,E)$ ä¸­çš„æ‰€æœ‰è¾¹æŒ‰ç…§é•¿åº¦ç”±å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œç­‰é•¿çš„è¾¹å¯ä»¥æŒ‰ä»»æ„é¡ºåºã€‚</li><li>åˆå§‹åŒ–å›¾ $G&rsquo;=(V,\varnothing)$ï¼Œä»å‰å‘åæ‰«ææ’åºåçš„è¾¹ï¼Œå¦‚æœæ‰«æåˆ°çš„è¾¹ $e$ åœ¨ $G&rsquo;$ ä¸­è¿æ¥äº†ä¸¤ä¸ªç›¸å¼‚çš„è¿é€šå—,åˆ™å°†å®ƒæ’å…¥ $G&rsquo;$ ä¸­ã€‚</li><li>æœ€åå¾—åˆ°çš„å›¾ $G&rsquo;$ å°±æ˜¯å›¾ $G$ çš„æœ€å°ç”Ÿæˆæ ‘ã€‚</li></ol><p><strong>å¤æ‚åº¦ï¼š</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š$O(E \log E)$</li><li>ç©ºé—´å¤æ‚åº¦ï¼š$O(E)$</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span> <span class=nf>kruskal</span><span class=o>(</span><span class=n>Edge</span><span class=o>[]</span> <span class=n>edges</span><span class=o>,</span> <span class=kt>int</span> <span class=n>n</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Arrays</span><span class=o>.</span><span class=na>sort</span><span class=o>(</span><span class=n>edges</span><span class=o>,</span> <span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>b</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>a</span><span class=o>.</span><span class=na>w</span> <span class=o>-</span> <span class=n>b</span><span class=o>.</span><span class=na>w</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>UnionFind</span> <span class=n>uf</span> <span class=o>=</span> <span class=k>new</span> <span class=n>UnionFind</span><span class=o>(</span><span class=n>n</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>sum</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>   <span class=c1>// è¾¹æƒå’Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=c1>// å·²é€‰è¾¹çš„æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>edges</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>uf</span><span class=o>.</span><span class=na>isConnected</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>u</span><span class=o>,</span> <span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>))</span> <span class=k>continue</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>uf</span><span class=o>.</span><span class=na>union</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>u</span><span class=o>,</span> <span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>sum</span> <span class=o>+=</span> <span class=n>e</span><span class=o>.</span><span class=na>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(++</span><span class=n>count</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=n>1</span><span class=o>)</span> <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>sum</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>;</span> <span class=c1>// èµ·ç‚¹ã€ç»ˆç‚¹ã€è¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Edge</span><span class=o>(</span><span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>w</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>v</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>w</span> <span class=o>=</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>UnionFind</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>parent</span><span class=o>;</span> <span class=c1>// æŒ‡å‘çˆ¶ç»“ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>private</span> <span class=kt>int</span> <span class=n>size</span><span class=o>;</span>     <span class=c1>// è¿é€šå—çš„æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>UnionFind</span><span class=o>(</span><span class=kt>int</span> <span class=n>n</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>parent</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>i</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>size</span> <span class=o>=</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>find</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>)</span> <span class=o>{</span> <span class=c1>// å¯»æ‰¾æ ¹ç»“ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=o>(</span><span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>!=</span> <span class=n>i</span><span class=o>)</span>  <span class=c1>// è·¯å¾„å‹ç¼©
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>find</span><span class=o>(</span><span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isConnected</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>,</span> <span class=kt>int</span> <span class=n>j</span><span class=o>)</span> <span class=o>{</span> <span class=c1>// åˆ¤æ–­æ˜¯å¦è¿é€š
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=n>find</span><span class=o>(</span><span class=n>i</span><span class=o>)</span> <span class=o>==</span> <span class=n>find</span><span class=o>(</span><span class=n>j</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>union</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>,</span> <span class=kt>int</span> <span class=n>j</span><span class=o>)</span> <span class=o>{</span> <span class=c1>// è¿é€š
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=o>(</span><span class=n>find</span><span class=o>(</span><span class=n>i</span><span class=o>)</span> <span class=o>!=</span> <span class=n>find</span><span class=o>(</span><span class=n>j</span><span class=o>))</span> <span class=n>size</span><span class=o>--;</span>
</span></span><span class=line><span class=cl>        <span class=n>parent</span><span class=o>[</span><span class=n>find</span><span class=o>(</span><span class=n>j</span><span class=o>)]</span> <span class=o>=</span> <span class=n>find</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>    <span class=c1>// j åŠ å…¥ i
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>size</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>size</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=82-prim-ç®—æ³• class=headerLink><a href=#82-prim-%e7%ae%97%e6%b3%95 class=header-mark></a>8.2 Prim ç®—æ³•</h3><p><strong>æ­¥éª¤ï¼š</strong></p><ol><li>åˆå§‹åŒ–å›¾ $G&rsquo;=(\varnothing,\varnothing)$ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªé¡¶ç‚¹åŠ å…¥ï¼Œå¾—åˆ° $G&rsquo;=(V&rsquo;,\varnothing)$ã€‚</li><li>é€‰æ‹© $G&rsquo;$ ä¸­é¡¶ç‚¹åˆ°å…¶ä»–é¡¶ç‚¹è¾¹æƒæœ€å°çš„è¾¹ï¼Œå°†è¾¹åŠå…¶å¯¹åº”é¡¶ç‚¹åŠ å…¥ $G&rsquo;$ã€‚</li><li>é‡å¤æ­¥éª¤ 2 ç›´åˆ°å…¨éƒ¨é¡¶ç‚¹éƒ½åŠ å…¥ $G&rsquo;$ï¼Œå³ $G$ çš„æœ€å°ç”Ÿæˆæ ‘ã€‚</li></ol><p><strong>å¤æ‚åº¦ï¼š</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š$O(E \log V)$</li><li>ç©ºé—´å¤æ‚åº¦ï¼š$O(E)$</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span> <span class=nf>prim</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;[]</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>boolean</span><span class=o>[</span><span class=n>n</span><span class=o>];</span> <span class=c1>// é¡¶ç‚¹æ˜¯å¦å·²é€‰æ‹©
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>sum</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>                    <span class=c1>// æœ€å°è¾¹æƒå’Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>                      <span class=c1>// éšæœºé€‰æ‹©ä¸€ä¸ªé¡¶ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>                  <span class=c1>// å·²é€‰æ‹©é¡¶ç‚¹æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;</span> <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;((</span><span class=n>a</span><span class=o>,</span> <span class=n>b</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>a</span><span class=o>.</span><span class=na>w</span> <span class=o>-</span> <span class=n>b</span><span class=o>.</span><span class=na>w</span><span class=o>);</span> <span class=c1>// æŒ‰è¾¹æƒå‡åº
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>])</span>         <span class=c1>// è¿æ¥æœªé€‰æ‹©é¡¶ç‚¹çš„è¾¹æ‰ä¼šæ·»åŠ 
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=o>(!</span><span class=n>vis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>])</span> <span class=n>pq</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>e</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(!</span><span class=n>pq</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Edge</span> <span class=n>edge</span> <span class=o>=</span> <span class=n>pq</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>edge</span><span class=o>.</span><span class=na>v</span><span class=o>])</span> <span class=k>continue</span><span class=o>;</span>  <span class=c1>// è·³è¿‡è¿æ¥å·²é€‰æ‹©é¡¶ç‚¹çš„è¾¹
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>u</span> <span class=o>=</span> <span class=n>edge</span><span class=o>.</span><span class=na>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>sum</span> <span class=o>+=</span> <span class=n>edge</span><span class=o>.</span><span class=na>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>count</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>])</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(!</span><span class=n>vis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>])</span> <span class=n>pq</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>e</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>count</span> <span class=o>==</span> <span class=n>n</span><span class=o>)</span> <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>sum</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>;</span> <span class=c1>// èµ·ç‚¹ã€ç»ˆç‚¹ã€è¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Edge</span><span class=o>(</span><span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>w</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>v</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>w</span> <span class=o>=</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=9æœ€çŸ­è·¯å¾„ class=headerLink><a href=#9%e6%9c%80%e7%9f%ad%e8%b7%af%e5%be%84 class=header-mark></a>9.æœ€çŸ­è·¯å¾„</h2><h3 id=91-dijkstra-ç®—æ³• class=headerLink><a href=#91-dijkstra-%e7%ae%97%e6%b3%95 class=header-mark></a>9.1 Dijkstra ç®—æ³•</h3><ul><li>å•æºæœ€çŸ­è·¯å¾„</li><li>ä¸èƒ½å¤„ç†è´Ÿè¾¹æƒ</li></ul><p><strong>æ­¥éª¤ï¼š</strong></p><ol><li>ä»èµ·ç‚¹å¼€å§‹ï¼Œå°†èµ·ç‚¹åŠ å…¥å°æ ¹å †ã€‚</li><li>è‹¥ä»å½“å‰é¡¶ç‚¹åˆ°ç›¸é‚»é¡¶ç‚¹çš„è·ç¦»å°äºâ€œåˆ°ç›¸é‚»é¡¶ç‚¹çš„æœ€çŸ­è·ç¦»â€ï¼Œåˆ™æ›´æ–°åˆ°ç›¸é‚»é¡¶ç‚¹çš„æœ€çŸ­è·ç¦»ï¼ŒåŒæ—¶å°†ç›¸é‚»é¡¶ç‚¹åŠ å…¥å°æ ¹å †ã€‚</li><li>é‡å¤æ­¥éª¤ 2ï¼Œç›´åˆ°æ²¡æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·ç¦»å¾—åˆ°æ›´æ–°ã€‚</li></ol><p><strong>å¤æ‚åº¦ï¼š</strong></p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š$ O(E \log V) $</li><li>ç©ºé—´å¤æ‚åº¦ï¼š$ O(V+E) $</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span><span class=o>[]</span> <span class=nf>dijkstra</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;[]</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>start</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[]</span> <span class=n>dis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span> <span class=c1>// start åˆ°æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·ç¦»
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Arrays</span><span class=o>.</span><span class=na>fill</span><span class=o>(</span><span class=n>dis</span><span class=o>,</span> <span class=n>0x3f3f3f3f</span><span class=o>);</span> <span class=c1>// é˜²æ­¢æº¢å‡º
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Vertex</span><span class=o>&gt;</span> <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;((</span><span class=n>a</span><span class=o>,</span> <span class=n>b</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>a</span><span class=o>.</span><span class=na>dis</span> <span class=o>-</span> <span class=n>b</span><span class=o>.</span><span class=na>dis</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>dis</span><span class=o>[</span><span class=n>start</span><span class=o>]</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>pq</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=k>new</span> <span class=n>Vertex</span><span class=o>(</span><span class=n>start</span><span class=o>,</span> <span class=n>0</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(!</span><span class=n>pq</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Vertex</span> <span class=n>u</span> <span class=o>=</span> <span class=n>pq</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>dis</span><span class=o>[</span><span class=n>u</span><span class=o>.</span><span class=na>id</span><span class=o>]</span> <span class=o>&lt;</span> <span class=n>u</span><span class=o>.</span><span class=na>dis</span><span class=o>)</span> <span class=k>continue</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>.</span><span class=na>id</span><span class=o>])</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>]</span> <span class=o>&gt;</span> <span class=n>dis</span><span class=o>[</span><span class=n>u</span><span class=o>.</span><span class=na>id</span><span class=o>]</span> <span class=o>+</span> <span class=n>e</span><span class=o>.</span><span class=na>w</span><span class=o>)</span> <span class=o>{</span> <span class=c1>// æ›´æ–°æœ€çŸ­è·¯å¾„
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>]</span> <span class=o>=</span> <span class=n>dis</span><span class=o>[</span><span class=n>u</span><span class=o>.</span><span class=na>id</span><span class=o>]</span> <span class=o>+</span> <span class=n>e</span><span class=o>.</span><span class=na>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=n>pq</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=k>new</span> <span class=n>Vertex</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>,</span> <span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>]));</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>dis</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>;</span> <span class=c1>// èµ·ç‚¹ã€ç»ˆç‚¹ã€è¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Edge</span><span class=o>(</span><span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>w</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>v</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>w</span> <span class=o>=</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Vertex</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>id</span><span class=o>,</span> <span class=n>dis</span><span class=o>;</span> <span class=c1>// é¡¶ç‚¹ç¼–å·ã€start åˆ°è¯¥ç‚¹çš„è·ç¦»
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Vertex</span><span class=o>(</span><span class=kt>int</span> <span class=n>id</span><span class=o>,</span> <span class=kt>int</span> <span class=n>dis</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>id</span> <span class=o>=</span> <span class=n>id</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>dis</span> <span class=o>=</span> <span class=n>dis</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=92-spfa-ç®—æ³• class=headerLink><a href=#92-spfa-%e7%ae%97%e6%b3%95 class=header-mark></a>9.2 SPFA ç®—æ³•</h3><ul><li>èƒ½å¤Ÿå¤„ç†è´Ÿè¾¹æƒ</li><li>ä¸èƒ½å¤„ç†è´Ÿç¯ï¼Œèƒ½å¤Ÿåˆ¤æ–­è´Ÿç¯</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span><span class=o>[]</span> <span class=nf>spfa</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;[]</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>start</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=93-bellman-ford-ç®—æ³• class=headerLink><a href=#93-bellman-ford-%e7%ae%97%e6%b3%95 class=header-mark></a>9.3 Bellman-Ford ç®—æ³•</h3><ul><li>å•æºæœ€çŸ­è·¯å¾„</li><li>èƒ½å¤Ÿå¤„ç†è´Ÿè¾¹æƒ</li><li>èƒ½å¤Ÿæ£€æµ‹è´Ÿç¯</li><li>æ—¶é—´å¤æ‚åº¦ï¼š$ O(V*E) $</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>int</span><span class=o>[]</span> <span class=nf>bellmanFord</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;[]</span> <span class=n>graph</span><span class=o>,</span> <span class=n>Edge</span><span class=o>[]</span> <span class=n>edges</span><span class=o>,</span> <span class=kt>int</span> <span class=n>start</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[]</span> <span class=n>dis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=n>Arrays</span><span class=o>.</span><span class=na>fill</span><span class=o>(</span><span class=n>dis</span><span class=o>,</span> <span class=n>0x3f3f3f3f</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>dis</span><span class=o>[</span><span class=n>start</span><span class=o>]</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>k</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>edges</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>]</span> <span class=o>=</span> <span class=n>Math</span><span class=o>.</span><span class=na>min</span><span class=o>(</span><span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>],</span> <span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>u</span><span class=o>]</span> <span class=o>+</span> <span class=n>e</span><span class=o>.</span><span class=na>w</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>edges</span><span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>]</span> <span class=o>&gt;</span> <span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>u</span><span class=o>]</span> <span class=o>+</span> <span class=n>e</span><span class=o>.</span><span class=na>w</span><span class=o>)</span> <span class=c1>// å­˜åœ¨è´Ÿç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>dis</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>;</span> <span class=c1>// èµ·ç‚¹ã€ç»ˆç‚¹ã€è¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Edge</span><span class=o>(</span><span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>w</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>v</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>w</span> <span class=o>=</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=94-floyd-ç®—æ³• class=headerLink><a href=#94-floyd-%e7%ae%97%e6%b3%95 class=header-mark></a>9.4 Floyd ç®—æ³•</h3><ul><li>å¤šæºæœ€çŸ­è·¯å¾„</li><li>å¯å¤„ç†è´Ÿè¾¹æƒ</li><li>æ—¶é—´å¤æ‚åº¦ï¼š$ O(V^3) $</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>floyd</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;[]</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// è½¬ä¸ºé‚»æ¥çŸ©é˜µ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[][]</span> <span class=n>dis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>][</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>])</span>
</span></span><span class=line><span class=cl>            <span class=n>dis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>u</span><span class=o>][</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>]</span> <span class=o>=</span> <span class=n>e</span><span class=o>.</span><span class=na>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// çŸ©é˜µ n æ¬¡æ–¹ï¼Œå°†æ¯ä¸ªé¡¶ç‚¹éƒ½ä½œä¸ºä¸­é—´é¡¶ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>k</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>                <span class=n>dis</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=n>Math</span><span class=o>.</span><span class=na>max</span><span class=o>(</span><span class=n>dis</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>k</span><span class=o>]</span> <span class=o>+</span> <span class=n>dis</span><span class=o>[</span><span class=n>k</span><span class=o>][</span><span class=n>j</span><span class=o>]);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>;</span> <span class=c1>// èµ·ç‚¹ã€ç»ˆç‚¹ã€è¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Edge</span><span class=o>(</span><span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>w</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>v</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>w</span> <span class=o>=</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=95-a-ç®—æ³• class=headerLink><a href=#95-a-%e7%ae%97%e6%b3%95 class=header-mark></a>9.5 A* ç®—æ³•</h3><h2 id=å®æˆ˜ class=headerLink><a href=#%e5%ae%9e%e6%88%98 class=header-mark></a>å®æˆ˜</h2><h3 id=ç¯æ£€æµ‹ class=headerLink><a href=#%e7%8e%af%e6%a3%80%e6%b5%8b class=header-mark></a>ç¯æ£€æµ‹</h3><h4 id=è¯¾ç¨‹è¡¨ class=headerLink><a href=#%e8%af%be%e7%a8%8b%e8%a1%a8 class=header-mark></a>ğŸŸ¨è¯¾ç¨‹è¡¨</h4><p><a href=https://leetcode.cn/problems/course-schedule/ target=_blank rel="noopener noreferrer">207. è¯¾ç¨‹è¡¨</a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java></code></pre></td></tr></table></div></div><h4 id=ä»¥å›¾åˆ¤æ ‘ class=headerLink><a href=#%e4%bb%a5%e5%9b%be%e5%88%a4%e6%a0%91 class=header-mark></a>ğŸŸ¨ä»¥å›¾åˆ¤æ ‘</h4><p><a href=https://leetcode.cn/problems/graph-valid-tree/ target=_blank rel="noopener noreferrer">261. ä»¥å›¾åˆ¤æ ‘</a></p><ul><li>DFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>validTree</span><span class=o>(</span><span class=kt>int</span> <span class=n>n</span><span class=o>,</span> <span class=kt>int</span><span class=o>[][]</span> <span class=n>edges</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;(</span><span class=n>n</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=n>graph</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;());</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>e</span> <span class=o>:</span> <span class=n>edges</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>e</span><span class=o>[</span><span class=n>0</span><span class=o>]).</span><span class=na>add</span><span class=o>(</span><span class=n>e</span><span class=o>[</span><span class=n>1</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>            <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>e</span><span class=o>[</span><span class=n>1</span><span class=o>]).</span><span class=na>add</span><span class=o>(</span><span class=n>e</span><span class=o>[</span><span class=n>0</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=o>!</span><span class=n>isCyclic</span><span class=o>(</span><span class=n>graph</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>isCyclic</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=o>-</span><span class=n>1</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>x</span> <span class=o>:</span> <span class=n>vis</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kt>boolean</span> <span class=nf>dfs</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>,</span> <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>pre</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// åˆ¤æ–­æ— å‘å›¾ä»é¡¶ç‚¹ u å¼€å§‹æ˜¯å¦å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>v</span> <span class=o>==</span> <span class=n>pre</span><span class=o>)</span> <span class=k>continue</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>1</span><span class=o>)</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>graph</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>u</span><span class=o>,</span> <span class=n>vis</span><span class=o>))</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=æ‹“æ‰‘æ’åº class=headerLink><a href=#%e6%8b%93%e6%89%91%e6%8e%92%e5%ba%8f class=header-mark></a>æ‹“æ‰‘æ’åº</h3><h4 id=è¯¾ç¨‹è¡¨-ii class=headerLink><a href=#%e8%af%be%e7%a8%8b%e8%a1%a8-ii class=header-mark></a>ğŸŸ¨è¯¾ç¨‹è¡¨ II</h4><p><a href=https://leetcode.cn/problems/course-schedule-ii/ target=_blank rel="noopener noreferrer">210. è¯¾ç¨‹è¡¨ II</a></p><ul><li>DFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[]</span> <span class=n>vis</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[]</span> <span class=n>ans</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>index</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span><span class=o>[]</span> <span class=nf>findOrder</span><span class=o>(</span><span class=kt>int</span> <span class=n>numCourses</span><span class=o>,</span> <span class=kt>int</span><span class=o>[][]</span> <span class=n>prerequisites</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;(</span><span class=n>numCourses</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>numCourses</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=n>graph</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;());</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>pre</span> <span class=o>:</span> <span class=n>prerequisites</span><span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>pre</span><span class=o>[</span><span class=n>0</span><span class=o>]).</span><span class=na>add</span><span class=o>(</span><span class=n>pre</span><span class=o>[</span><span class=n>1</span><span class=o>]);</span>    <span class=c1>// é€†åºå»ºå›¾
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// graph.get(pre[1]).add(pre[0]); // é¡ºåºå»ºå›¾
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// index = numCourses - 1; // é¡ºåºå»ºå›¾
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>numCourses</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>numCourses</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>numCourses</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>i</span><span class=o>))</span> <span class=c1>// å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>return</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>boolean</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>int</span> <span class=n>u</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>dfs</span><span class=o>(</span><span class=n>v</span><span class=o>))</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span> <span class=c1>// å‰ªæ
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>vis</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>1</span><span class=o>)</span> <span class=k>return</span> <span class=kc>true</span><span class=o>;</span>      <span class=c1>// å­˜åœ¨ç¯
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=n>2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span><span class=o>[</span><span class=n>index</span><span class=o>++]</span> <span class=o>=</span> <span class=n>u</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// ans[index--] = u; // é¡ºåºå»ºå›¾
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=kc>false</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>BFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span><span class=o>[]</span> <span class=nf>findOrder</span><span class=o>(</span><span class=kt>int</span> <span class=n>numCourses</span><span class=o>,</span> <span class=kt>int</span><span class=o>[][]</span> <span class=n>prerequisites</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=o>&lt;</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;&gt;</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;(</span><span class=n>numCourses</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>numCourses</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=n>graph</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;());</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>indegree</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>numCourses</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>pre</span> <span class=o>:</span> <span class=n>prerequisites</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>indegree</span><span class=o>[</span><span class=n>pre</span><span class=o>[</span><span class=n>0</span><span class=o>]]++;</span>
</span></span><span class=line><span class=cl>            <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>pre</span><span class=o>[</span><span class=n>1</span><span class=o>]).</span><span class=na>add</span><span class=o>(</span><span class=n>pre</span><span class=o>[</span><span class=n>0</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[]</span> <span class=n>ans</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>numCourses</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>index</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>numCourses</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>indegree</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=n>ans</span><span class=o>[</span><span class=n>index</span><span class=o>++]</span> <span class=o>=</span> <span class=n>i</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>count</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>v</span> <span class=o>:</span> <span class=n>graph</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>u</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>indegree</span><span class=o>[</span><span class=n>v</span><span class=o>]--;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>indegree</span><span class=o>[</span><span class=n>v</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>ans</span><span class=o>[</span><span class=n>index</span><span class=o>++]</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>count</span> <span class=o>==</span> <span class=n>numCourses</span> <span class=o>?</span> <span class=n>ans</span> <span class=o>:</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=è¯¾ç¨‹è¡¨-iii class=headerLink><a href=#%e8%af%be%e7%a8%8b%e8%a1%a8-iii class=header-mark></a>ğŸŸ¥è¯¾ç¨‹è¡¨ III</h4><p><a href=https://leetcode.cn/problems/course-schedule-iii/ target=_blank rel="noopener noreferrer">630. è¯¾ç¨‹è¡¨ III</a></p><h4 id=è¯¾ç¨‹è¡¨-iv class=headerLink><a href=#%e8%af%be%e7%a8%8b%e8%a1%a8-iv class=header-mark></a>ğŸŸ¨è¯¾ç¨‹è¡¨ IV</h4><p><a href=https://leetcode.cn/problems/course-schedule-iv/ target=_blank rel="noopener noreferrer">1462. è¯¾ç¨‹è¡¨ IV</a></p><h4 id=heading class=headerLink><a href=#heading class=header-mark></a></h4><h4 id=heading-1 class=headerLink><a href=#heading-1 class=header-mark></a></h4><h3 id=flood-fill class=headerLink><a href=#flood-fill class=header-mark></a>Flood Fill</h3><h4 id=å›¾åƒæ¸²æŸ“ class=headerLink><a href=#%e5%9b%be%e5%83%8f%e6%b8%b2%e6%9f%93 class=header-mark></a>å›¾åƒæ¸²æŸ“</h4><p><a href=https://leetcode.cn/problems/flood-fill/ target=_blank rel="noopener noreferrer">733. å›¾åƒæ¸²æŸ“</a></p><ul><li>DFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span><span class=o>[][]</span> <span class=nf>floodFill</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>image</span><span class=o>,</span> <span class=kt>int</span> <span class=n>sr</span><span class=o>,</span> <span class=kt>int</span> <span class=n>sc</span><span class=o>,</span> <span class=kt>int</span> <span class=n>color</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>image</span><span class=o>[</span><span class=n>sr</span><span class=o>][</span><span class=n>sc</span><span class=o>]</span> <span class=o>==</span> <span class=n>color</span><span class=o>)</span> <span class=k>return</span> <span class=n>image</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>image</span><span class=o>,</span> <span class=n>sr</span><span class=o>,</span> <span class=n>sc</span><span class=o>,</span> <span class=n>image</span><span class=o>[</span><span class=n>sr</span><span class=o>][</span><span class=n>sc</span><span class=o>],</span> <span class=n>color</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>image</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>image</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v1</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=n>image</span><span class=o>.</span><span class=na>length</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&gt;=</span> <span class=n>image</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span> <span class=o>||</span> <span class=n>image</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>!=</span> <span class=n>v1</span><span class=o>)</span> <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>image</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>image</span><span class=o>,</span> <span class=n>x</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>image</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>image</span><span class=o>,</span> <span class=n>x</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>image</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>BFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span><span class=o>[][]</span> <span class=nf>floodFill</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>image</span><span class=o>,</span> <span class=kt>int</span> <span class=n>sr</span><span class=o>,</span> <span class=kt>int</span> <span class=n>sc</span><span class=o>,</span> <span class=kt>int</span> <span class=n>color</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>image</span><span class=o>[</span><span class=n>sr</span><span class=o>][</span><span class=n>sc</span><span class=o>]</span> <span class=o>==</span> <span class=n>color</span><span class=o>)</span> <span class=k>return</span> <span class=n>image</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>oldColor</span> <span class=o>=</span> <span class=n>image</span><span class=o>[</span><span class=n>sr</span><span class=o>][</span><span class=n>sc</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>image</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>image</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span><span class=o>[][]</span> <span class=n>dir</span> <span class=o>=</span> <span class=o>{</span> <span class=o>{</span> <span class=n>0</span><span class=o>,</span> <span class=n>1</span> <span class=o>},</span> <span class=o>{</span> <span class=n>0</span><span class=o>,</span> <span class=o>-</span><span class=n>1</span> <span class=o>},</span> <span class=o>{</span> <span class=n>1</span><span class=o>,</span> <span class=n>0</span> <span class=o>},</span> <span class=o>{</span> <span class=o>-</span><span class=n>1</span><span class=o>,</span> <span class=n>0</span> <span class=o>}</span> <span class=o>};</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>sr</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>sc</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>c</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>image</span><span class=o>[</span><span class=n>r</span><span class=o>][</span><span class=n>c</span><span class=o>]</span> <span class=o>=</span> <span class=n>color</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>d</span> <span class=o>:</span> <span class=n>dir</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>rr</span> <span class=o>=</span> <span class=n>r</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>cc</span> <span class=o>=</span> <span class=n>c</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>1</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>rr</span> <span class=o>&gt;=</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>rr</span> <span class=o>&lt;</span> <span class=n>m</span> <span class=o>&amp;&amp;</span> <span class=n>cc</span> <span class=o>&gt;=</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>cc</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>image</span><span class=o>[</span><span class=n>rr</span><span class=o>][</span><span class=n>cc</span><span class=o>]</span> <span class=o>==</span> <span class=n>oldColor</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>rr</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>cc</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>image</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><a href=../%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84-%e5%b9%b6%e6%9f%a5%e9%9b%86/#%e5%9b%be%e5%83%8f%e6%b8%b2%e6%9f%93 rel>å¹¶æŸ¥é›†</a></li></ul><h4 id=å²›å±¿æ•°é‡ class=headerLink><a href=#%e5%b2%9b%e5%b1%bf%e6%95%b0%e9%87%8f class=header-mark></a>å²›å±¿æ•°é‡</h4><p><a href=https://leetcode.cn/problems/number-of-islands/ target=_blank rel="noopener noreferrer">200. å²›å±¿æ•°é‡</a></p><ul><li>DFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>numIslands</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>grid</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>grid</span><span class=o>.</span><span class=na>length</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>grid</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>grid</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>ans</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>                    <span class=n>dfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;1&#39;</span><span class=o>,</span> <span class=sc>&#39;2&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>grid</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v1</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=n>grid</span><span class=o>.</span><span class=na>length</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&gt;=</span> <span class=n>grid</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span> <span class=o>||</span> <span class=n>grid</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>!=</span> <span class=n>v1</span><span class=o>)</span> <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>grid</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>x</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>x</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>BFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>m</span><span class=o>,</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[][]</span> <span class=n>dir</span> <span class=o>=</span> <span class=o>{</span> <span class=o>{</span> <span class=n>0</span><span class=o>,</span> <span class=n>1</span> <span class=o>},</span> <span class=o>{</span> <span class=n>0</span><span class=o>,</span> <span class=o>-</span><span class=n>1</span> <span class=o>},</span> <span class=o>{</span> <span class=n>1</span><span class=o>,</span> <span class=n>0</span> <span class=o>},</span> <span class=o>{</span> <span class=o>-</span><span class=n>1</span><span class=o>,</span> <span class=n>0</span> <span class=o>}</span> <span class=o>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>numIslands</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>grid</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>m</span> <span class=o>=</span> <span class=n>grid</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span> <span class=o>=</span> <span class=n>grid</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>grid</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>ans</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>                    <span class=n>bfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;1&#39;</span><span class=o>,</span> <span class=sc>&#39;2&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>bfs</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>grid</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v1</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>x</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>y</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>grid</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>x</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>y</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>d</span> <span class=o>:</span> <span class=n>dir</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>xx</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>yy</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>1</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>xx</span> <span class=o>&gt;=</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>xx</span> <span class=o>&lt;</span> <span class=n>m</span> <span class=o>&amp;&amp;</span> <span class=n>yy</span> <span class=o>&gt;=</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>yy</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>grid</span><span class=o>[</span><span class=n>xx</span><span class=o>][</span><span class=n>yy</span><span class=o>]</span> <span class=o>==</span> <span class=n>v1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>xx</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>yy</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>grid</span><span class=o>[</span><span class=n>xx</span><span class=o>][</span><span class=n>yy</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><a href=../%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84-%e5%b9%b6%e6%9f%a5%e9%9b%86/#%e5%b2%9b%e5%b1%bf%e6%95%b0%e9%87%8f rel>å¹¶æŸ¥é›†</a></li></ul><h4 id=è¢«å›´ç»•çš„åŒºåŸŸ class=headerLink><a href=#%e8%a2%ab%e5%9b%b4%e7%bb%95%e7%9a%84%e5%8c%ba%e5%9f%9f class=header-mark></a>è¢«å›´ç»•çš„åŒºåŸŸ</h4><p><a href=https://leetcode.cn/problems/surrounded-regions/ target=_blank rel="noopener noreferrer">130. è¢«å›´ç»•çš„åŒºåŸŸ</a></p><ul><li>DFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>solve</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>board</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>board</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>board</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 1.å°†è¾¹ç¼˜è¿é€šå—æ”¹ä¸ºå…¶ä»–å€¼
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>n</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>m</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 2.ä¿®æ”¹ä¸­é—´è¿é€šå—
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span> <span class=n>i</span> <span class=o>+</span> <span class=n>1</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span> <span class=n>j</span> <span class=o>+</span> <span class=n>1</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>board</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>==</span> <span class=sc>&#39;O&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>board</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=sc>&#39;X&#39;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 3.è¿˜åŸè¾¹ç¼˜è¿é€šå—
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>n</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>m</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>board</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v1</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=n>board</span><span class=o>.</span><span class=na>length</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&gt;=</span> <span class=n>board</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span> <span class=o>||</span> <span class=n>board</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>!=</span> <span class=n>v1</span><span class=o>)</span> <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>board</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>x</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>x</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>BFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>m</span><span class=o>,</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>que</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span><span class=o>[][]</span> <span class=n>dir</span> <span class=o>=</span> <span class=o>{</span> <span class=o>{</span> <span class=n>0</span><span class=o>,</span> <span class=n>1</span> <span class=o>},</span> <span class=o>{</span> <span class=n>0</span><span class=o>,</span> <span class=o>-</span><span class=n>1</span> <span class=o>},</span> <span class=o>{</span> <span class=n>1</span><span class=o>,</span> <span class=n>0</span> <span class=o>},</span> <span class=o>{</span> <span class=o>-</span><span class=n>1</span><span class=o>,</span> <span class=n>0</span> <span class=o>}</span> <span class=o>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>solve</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>board</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>m</span> <span class=o>=</span> <span class=n>board</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>n</span> <span class=o>=</span> <span class=n>board</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 1.å°†è¾¹ç¼˜è¿é€šå—æ”¹ä¸ºå…¶ä»–å€¼
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>bfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>bfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>n</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>bfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>bfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>m</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 2.ä¿®æ”¹ä¸­é—´è¿é€šå—
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span> <span class=n>i</span> <span class=o>+</span> <span class=n>1</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span> <span class=n>j</span> <span class=o>+</span> <span class=n>1</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>board</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>==</span> <span class=sc>&#39;O&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>board</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>=</span> <span class=sc>&#39;X&#39;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 3.è¿˜åŸè¾¹ç¼˜è¿é€šå—
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>bfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>bfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>n</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>bfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>bfs</span><span class=o>(</span><span class=n>board</span><span class=o>,</span> <span class=n>m</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=sc>&#39;#&#39;</span><span class=o>,</span> <span class=sc>&#39;O&#39;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>bfs</span><span class=o>(</span><span class=kt>char</span><span class=o>[][]</span> <span class=n>mat</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v1</span><span class=o>,</span> <span class=kt>char</span> <span class=n>v2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>mat</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>!=</span> <span class=n>v1</span><span class=o>)</span> <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>x</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>y</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>mat</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>while</span> <span class=o>(!</span><span class=n>que</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=n>x</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>y</span> <span class=o>=</span> <span class=n>que</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>d</span> <span class=o>:</span> <span class=n>dir</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>xx</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>0</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>yy</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>1</span><span class=o>];</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>xx</span> <span class=o>&gt;=</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>xx</span> <span class=o>&lt;</span> <span class=n>m</span> <span class=o>&amp;&amp;</span> <span class=n>yy</span> <span class=o>&gt;=</span> <span class=n>0</span> <span class=o>&amp;&amp;</span> <span class=n>yy</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>mat</span><span class=o>[</span><span class=n>xx</span><span class=o>][</span><span class=n>yy</span><span class=o>]</span> <span class=o>==</span> <span class=n>v1</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>xx</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>que</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>yy</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=n>mat</span><span class=o>[</span><span class=n>xx</span><span class=o>][</span><span class=n>yy</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><a href=../%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84-%e5%b9%b6%e6%9f%a5%e9%9b%86/#%e8%a2%ab%e5%9b%b4%e7%bb%95%e7%9a%84%e5%8c%ba%e5%9f%9f rel>å¹¶æŸ¥é›†</a></li></ul><h4 id=å²›å±¿çš„æœ€å¤§é¢ç§¯ class=headerLink><a href=#%e5%b2%9b%e5%b1%bf%e7%9a%84%e6%9c%80%e5%a4%a7%e9%9d%a2%e7%a7%af class=header-mark></a>å²›å±¿çš„æœ€å¤§é¢ç§¯</h4><p><a href=https://leetcode.cn/problems/max-area-of-island/ target=_blank rel="noopener noreferrer">695. å²›å±¿çš„æœ€å¤§é¢ç§¯</a></p><ul><li>DFS</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>maxAreaOfIsland</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>grid</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>grid</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>grid</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=o>(</span><span class=n>grid</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span> <span class=o>==</span> <span class=n>1</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                    <span class=n>ans</span> <span class=o>=</span> <span class=n>Math</span><span class=o>.</span><span class=na>max</span><span class=o>(</span><span class=n>ans</span><span class=o>,</span> <span class=n>dfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=n>1</span><span class=o>,</span> <span class=n>2</span><span class=o>));</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>mat</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v1</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v2</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=n>mat</span><span class=o>.</span><span class=na>length</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&gt;=</span> <span class=n>mat</span><span class=o>[</span><span class=n>0</span><span class=o>].</span><span class=na>length</span> <span class=o>||</span> <span class=n>mat</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>!=</span> <span class=n>v1</span><span class=o>)</span> <span class=k>return</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>mat</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>v2</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>ans</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>+=</span> <span class=n>dfs</span><span class=o>(</span><span class=n>mat</span><span class=o>,</span> <span class=n>x</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>+=</span> <span class=n>dfs</span><span class=o>(</span><span class=n>mat</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>+=</span> <span class=n>dfs</span><span class=o>(</span><span class=n>mat</span><span class=o>,</span> <span class=n>x</span> <span class=o>+</span> <span class=n>1</span><span class=o>,</span> <span class=n>y</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>ans</span> <span class=o>+=</span> <span class=n>dfs</span><span class=o>(</span><span class=n>mat</span><span class=o>,</span> <span class=n>x</span><span class=o>,</span> <span class=n>y</span> <span class=o>-</span> <span class=n>1</span><span class=o>,</span> <span class=n>v1</span><span class=o>,</span> <span class=n>v2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>ans</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>BFS</p></li><li><p>å¹¶æŸ¥é›†</p></li></ul><h3 id=æœ€å°ç”Ÿæˆæ ‘ class=headerLink><a href=#%e6%9c%80%e5%b0%8f%e7%94%9f%e6%88%90%e6%a0%91 class=header-mark></a>æœ€å°ç”Ÿæˆæ ‘</h3><h4 id=è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨ class=headerLink><a href=#%e8%bf%9e%e6%8e%a5%e6%89%80%e6%9c%89%e7%82%b9%e7%9a%84%e6%9c%80%e5%b0%8f%e8%b4%b9%e7%94%a8 class=header-mark></a>è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨</h4><p><a href=https://leetcode.cn/problems/min-cost-to-connect-all-points/ target=_blank rel="noopener noreferrer">1584. è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨</a></p><ul><li>Kruskal</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>minCostConnectPoints</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>points</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>points</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>Edge</span><span class=o>[]</span> <span class=n>edges</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Edge</span><span class=o>[</span><span class=n>n</span> <span class=o>*</span> <span class=o>(</span><span class=n>n</span> <span class=o>-</span> <span class=n>1</span><span class=o>)</span> <span class=o>/</span> <span class=n>2</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=n>1</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>                <span class=n>edges</span><span class=o>[</span><span class=n>k</span><span class=o>++]</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Edge</span><span class=o>(</span><span class=n>i</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=n>manhattanDistance</span><span class=o>(</span><span class=n>points</span><span class=o>[</span><span class=n>i</span><span class=o>],</span> <span class=n>points</span><span class=o>[</span><span class=n>j</span><span class=o>]));</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>kruskal</span><span class=o>(</span><span class=n>edges</span><span class=o>,</span> <span class=n>n</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>kruskal</span><span class=o>(</span><span class=n>Edge</span><span class=o>[]</span> <span class=n>edges</span><span class=o>,</span> <span class=kt>int</span> <span class=n>n</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Arrays</span><span class=o>.</span><span class=na>sort</span><span class=o>(</span><span class=n>edges</span><span class=o>,</span> <span class=o>(</span><span class=n>a</span><span class=o>,</span> <span class=n>b</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>a</span><span class=o>.</span><span class=na>w</span> <span class=o>-</span> <span class=n>b</span><span class=o>.</span><span class=na>w</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>UnionFind</span> <span class=n>uf</span> <span class=o>=</span> <span class=k>new</span> <span class=n>UnionFind</span><span class=o>(</span><span class=n>n</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>sum</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>   <span class=c1>// è¾¹æƒå’Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=c1>// å·²é€‰è¾¹çš„æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>edges</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>uf</span><span class=o>.</span><span class=na>isConnected</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>u</span><span class=o>,</span> <span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>))</span> <span class=k>continue</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>uf</span><span class=o>.</span><span class=na>union</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>u</span><span class=o>,</span> <span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=n>sum</span> <span class=o>+=</span> <span class=n>e</span><span class=o>.</span><span class=na>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(++</span><span class=n>count</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=n>1</span><span class=o>)</span> <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>sum</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>manhattanDistance</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Math</span><span class=o>.</span><span class=na>abs</span><span class=o>(</span><span class=n>x</span><span class=o>[</span><span class=n>0</span><span class=o>]</span> <span class=o>-</span> <span class=n>y</span><span class=o>[</span><span class=n>0</span><span class=o>])</span> <span class=o>+</span> <span class=n>Math</span><span class=o>.</span><span class=na>abs</span><span class=o>(</span><span class=n>x</span><span class=o>[</span><span class=n>1</span><span class=o>]</span> <span class=o>-</span> <span class=n>y</span><span class=o>[</span><span class=n>1</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>;</span> <span class=c1>// èµ·ç‚¹ã€ç»ˆç‚¹ã€è¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Edge</span><span class=o>(</span><span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>w</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>v</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>w</span> <span class=o>=</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>UnionFind</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>parent</span><span class=o>;</span> <span class=c1>// æŒ‡å‘çˆ¶ç»“ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>private</span> <span class=kt>int</span> <span class=n>size</span><span class=o>;</span>     <span class=c1>// è¿é€šå—çš„æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>UnionFind</span><span class=o>(</span><span class=kt>int</span> <span class=n>n</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>parent</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>i</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>size</span> <span class=o>=</span> <span class=n>n</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>find</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>)</span> <span class=o>{</span> <span class=c1>// å¯»æ‰¾æ ¹ç»“ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=o>(</span><span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>!=</span> <span class=n>i</span><span class=o>)</span>  <span class=c1>// è·¯å¾„å‹ç¼©
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>find</span><span class=o>(</span><span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>parent</span><span class=o>[</span><span class=n>i</span><span class=o>];</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isConnected</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>,</span> <span class=kt>int</span> <span class=n>j</span><span class=o>)</span> <span class=o>{</span> <span class=c1>// åˆ¤æ–­æ˜¯å¦è¿é€š
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=n>find</span><span class=o>(</span><span class=n>i</span><span class=o>)</span> <span class=o>==</span> <span class=n>find</span><span class=o>(</span><span class=n>j</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>union</span><span class=o>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>,</span> <span class=kt>int</span> <span class=n>j</span><span class=o>)</span> <span class=o>{</span> <span class=c1>// è¿é€š
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=o>(</span><span class=n>find</span><span class=o>(</span><span class=n>i</span><span class=o>)</span> <span class=o>!=</span> <span class=n>find</span><span class=o>(</span><span class=n>j</span><span class=o>))</span> <span class=n>size</span><span class=o>--;</span>
</span></span><span class=line><span class=cl>        <span class=n>parent</span><span class=o>[</span><span class=n>find</span><span class=o>(</span><span class=n>j</span><span class=o>)]</span> <span class=o>=</span> <span class=n>find</span><span class=o>(</span><span class=n>i</span><span class=o>);</span>    <span class=c1>// j åŠ å…¥ i
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>size</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>size</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>Prim</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Solution</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>minCostConnectPoints</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>points</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>points</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;[]</span> <span class=n>graph</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>[</span><span class=n>n</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span>
</span></span><span class=line><span class=cl>            <span class=n>graph</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=n>1</span><span class=o>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>;</span> <span class=n>j</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=kt>int</span> <span class=n>dis</span> <span class=o>=</span> <span class=n>manhattanDistance</span><span class=o>(</span><span class=n>points</span><span class=o>[</span><span class=n>i</span><span class=o>],</span> <span class=n>points</span><span class=o>[</span><span class=n>j</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>                <span class=n>graph</span><span class=o>[</span><span class=n>i</span><span class=o>].</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Edge</span><span class=o>(</span><span class=n>i</span><span class=o>,</span> <span class=n>j</span><span class=o>,</span> <span class=n>dis</span><span class=o>));</span>
</span></span><span class=line><span class=cl>                <span class=n>graph</span><span class=o>[</span><span class=n>j</span><span class=o>].</span><span class=na>add</span><span class=o>(</span><span class=k>new</span> <span class=n>Edge</span><span class=o>(</span><span class=n>j</span><span class=o>,</span> <span class=n>i</span><span class=o>,</span> <span class=n>dis</span><span class=o>));</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>prim</span><span class=o>(</span><span class=n>graph</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>prim</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;[]</span> <span class=n>graph</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>graph</span><span class=o>.</span><span class=na>length</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>boolean</span><span class=o>[]</span> <span class=n>vis</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>boolean</span><span class=o>[</span><span class=n>n</span><span class=o>];</span> <span class=c1>// é¡¶ç‚¹æ˜¯å¦å·²é€‰æ‹©
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>sum</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>                    <span class=c1>// æœ€å°è¾¹æƒå’Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>u</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>                      <span class=c1>// éšæœºé€‰æ‹©ä¸€ä¸ªé¡¶ç‚¹
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=n>1</span><span class=o>;</span>                  <span class=c1>// å·²é€‰æ‹©é¡¶ç‚¹æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=n>PriorityQueue</span><span class=o>&lt;</span><span class=n>Edge</span><span class=o>&gt;</span> <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;((</span><span class=n>a</span><span class=o>,</span> <span class=n>b</span><span class=o>)</span> <span class=o>-&gt;</span> <span class=n>a</span><span class=o>.</span><span class=na>w</span> <span class=o>-</span> <span class=n>b</span><span class=o>.</span><span class=na>w</span><span class=o>);</span> <span class=c1>// æŒ‰è¾¹æƒå‡åº
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>while</span> <span class=o>(</span><span class=n>count</span> <span class=o>&lt;</span> <span class=n>n</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=o>(</span><span class=n>Edge</span> <span class=n>e</span> <span class=o>:</span> <span class=n>graph</span><span class=o>[</span><span class=n>u</span><span class=o>])</span>     <span class=c1>// è¿æ¥æœªé€‰æ‹©é¡¶ç‚¹çš„è¾¹æ‰ä¼šæ·»åŠ 
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>if</span> <span class=o>(!</span><span class=n>vis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>])</span> <span class=n>pq</span><span class=o>.</span><span class=na>offer</span><span class=o>(</span><span class=n>e</span><span class=o>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=o>(</span><span class=n>pq</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>Edge</span> <span class=n>e</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=k>do</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=n>e</span> <span class=o>=</span> <span class=n>pq</span><span class=o>.</span><span class=na>poll</span><span class=o>();</span> <span class=c1>// è·³è¿‡æ²¡æœ‰è¿æ¥æœªé€‰æ‹©é¡¶ç‚¹çš„è¾¹
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=o>}</span> <span class=k>while</span> <span class=o>(!</span><span class=n>pq</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>()</span> <span class=o>&amp;&amp;</span> <span class=n>vis</span><span class=o>[</span><span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>            <span class=n>u</span> <span class=o>=</span> <span class=n>e</span><span class=o>.</span><span class=na>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>vis</span><span class=o>[</span><span class=n>u</span><span class=o>]</span> <span class=o>=</span> <span class=kc>true</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>sum</span> <span class=o>+=</span> <span class=n>e</span><span class=o>.</span><span class=na>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=n>count</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>sum</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>manhattanDistance</span><span class=o>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Math</span><span class=o>.</span><span class=na>abs</span><span class=o>(</span><span class=n>x</span><span class=o>[</span><span class=n>0</span><span class=o>]</span> <span class=o>-</span> <span class=n>y</span><span class=o>[</span><span class=n>0</span><span class=o>])</span> <span class=o>+</span> <span class=n>Math</span><span class=o>.</span><span class=na>abs</span><span class=o>(</span><span class=n>x</span><span class=o>[</span><span class=n>1</span><span class=o>]</span> <span class=o>-</span> <span class=n>y</span><span class=o>[</span><span class=n>1</span><span class=o>]);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Edge</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=n>v</span><span class=o>,</span> <span class=n>w</span><span class=o>;</span> <span class=c1>// èµ·ç‚¹ã€ç»ˆç‚¹ã€è¾¹æƒ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=nf>Edge</span><span class=o>(</span><span class=kt>int</span> <span class=n>u</span><span class=o>,</span> <span class=kt>int</span> <span class=n>v</span><span class=o>,</span> <span class=kt>int</span> <span class=n>w</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>u</span> <span class=o>=</span> <span class=n>u</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>v</span> <span class=o>=</span> <span class=n>v</span><span class=o>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>.</span><span class=na>w</span> <span class=o>=</span> <span class=n>w</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å…¶ä»– class=headerLink><a href=#%e5%85%b6%e4%bb%96 class=header-mark></a>å…¶ä»–</h3><h4 id=å°é—­å²›å±¿çš„æ•°é‡ class=headerLink><a href=#%e5%b0%81%e9%97%ad%e5%b2%9b%e5%b1%bf%e7%9a%84%e6%95%b0%e9%87%8f class=header-mark></a>å°é—­å²›å±¿çš„æ•°é‡</h4><p>å°†é è¾¹çš„å²›å±¿å˜ä¸ºæ°´ï¼Œå‰©ä¸‹çš„å°±æ˜¯ã€Œå°é—­å²›å±¿ã€ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span> <span class=nf>dfs</span><span class=o>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>grid</span><span class=o>,</span> <span class=kt>int</span> <span class=n>x</span><span class=o>,</span> <span class=kt>int</span> <span class=n>y</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=n>m</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>0</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&gt;=</span> <span class=n>n</span> <span class=o>||</span> <span class=n>grid</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>==</span> <span class=n>0</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=n>grid</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=c1>// æ·¹æ²¡
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=o>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>4</span><span class=o>;</span> <span class=n>i</span><span class=o>++)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>nextX</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>dx</span><span class=o>[</span><span class=n>i</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>nextY</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>dy</span><span class=o>[</span><span class=n>i</span><span class=o>];</span>
</span></span><span class=line><span class=cl>        <span class=n>dfs</span><span class=o>(</span><span class=n>grid</span><span class=o>,</span> <span class=n>nextX</span><span class=o>,</span> <span class=n>nextY</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=1020-é£åœ°çš„æ•°é‡ class=headerLink><a href=#1020-%e9%a3%9e%e5%9c%b0%e7%9a%84%e6%95%b0%e9%87%8f class=header-mark></a>1020. é£åœ°çš„æ•°é‡</h4><p>å…ˆæŠŠé è¾¹çš„é™†åœ°æ·¹æ‰ï¼Œç„¶åå»æ•°å‰©ä¸‹çš„é™†åœ°æ•°é‡ã€‚</p><h4 id=695-å²›å±¿çš„æœ€å¤§é¢ç§¯ class=headerLink><a href=#695-%e5%b2%9b%e5%b1%bf%e7%9a%84%e6%9c%80%e5%a4%a7%e9%9d%a2%e7%a7%af class=header-mark></a>695. å²›å±¿çš„æœ€å¤§é¢ç§¯</h4><p>æ·¹æ²¡å²›å±¿çš„åŒæ—¶ï¼Œè®°å½•è¿™ä¸ªå²›å±¿çš„é¢ç§¯ã€‚</p><h4 id=1905-ç»Ÿè®¡å­å²›å±¿ class=headerLink><a href=#1905-%e7%bb%9f%e8%ae%a1%e5%ad%90%e5%b2%9b%e5%b1%bf class=header-mark></a>1905. ç»Ÿè®¡å­å²›å±¿</h4><p>å²›å±¿ B ä¸­å­˜åœ¨ä¸€ç‰‡é™†åœ°ï¼Œåœ¨å²›å±¿ A çš„å¯¹åº”ä½ç½®æ˜¯æµ·æ°´ï¼Œé‚£ä¹ˆå²›å±¿ B å°±ä¸æ˜¯å²›å±¿ A çš„å­å²›ã€‚</p><h4 id=694-ä¸åŒå²›å±¿çš„æ•°é‡ class=headerLink><a href=#694-%e4%b8%8d%e5%90%8c%e5%b2%9b%e5%b1%bf%e7%9a%84%e6%95%b0%e9%87%8f class=header-mark></a>694. ä¸åŒå²›å±¿çš„æ•°é‡</h4><p>å¯¹äºå½¢çŠ¶ç›¸åŒçš„å²›å±¿ï¼Œå¦‚æœä»åŒä¸€èµ·ç‚¹å‡ºå‘ï¼Œdfs å‡½æ•°éå†çš„é¡ºåºè‚¯å®šæ˜¯ä¸€æ ·çš„ã€‚</p><p>åˆ†åˆ«ç”¨ 1, 2, 3, 4 ä»£è¡¨ä¸Šä¸‹å·¦å³ï¼Œç”¨ -1, -2, -3, -4 ä»£è¡¨ä¸Šä¸‹å·¦å³çš„æ’¤é”€ã€‚</p><p>æŠŠäºŒç»´çŸ©é˜µä¸­çš„ã€Œå²›å±¿ã€è¿›è¡Œè½¬åŒ–ï¼Œå˜æˆæ¯”å¦‚å­—ç¬¦ä¸²è¿™æ ·çš„ç±»å‹ï¼Œç„¶ååˆ©ç”¨ HashSet è¿™æ ·çš„æ•°æ®ç»“æ„å»é‡ï¼Œæœ€ç»ˆå¾—åˆ°ä¸åŒçš„å²›å±¿çš„ä¸ªæ•°ã€‚</p><h2 id=å‚è€ƒ class=headerLink><a href=#%e5%8f%82%e8%80%83 class=header-mark></a>å‚è€ƒ</h2><ul><li><a href rel>ã€Šç®—æ³•ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2022-09-12</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/>æ•°æ®ç»“æ„</a>,&nbsp;<a href=/tags/%E5%9B%BE/>å›¾</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/posts/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/ class=prev rel=prev title=ç®—æ³•-ä½è¿ç®—><i class="fas fa-angle-left fa-fw"></i>ç®—æ³•-ä½è¿ç®—</a>
<a href=/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%93%BE%E8%A1%A8/ class=next rel=next title=æ•°æ®ç»“æ„-é“¾è¡¨>æ•°æ®ç»“æ„-é“¾è¡¨<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.103.0">Hugo</a> å¼ºåŠ›é©±åŠ¨&nbsp;|&nbsp;ä¸»é¢˜ - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreferrer" title="DoIt 0.2.13"><i class="far fa-edit fa-fw"></i> DoIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/backtraxe target=_blank rel="noopener noreferrer">Backtraxe</a></span></div><div class=footer-line></div><div class=footer-line></div></div><script>"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.min.js",{scope:"/"}).then(function(){}),navigator.serviceWorker.ready.then(function(){}))</script></footer></div><div id=fixed-buttons><a href=#back-to-top id=back-to-top-button class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw"></i></a></div><div class=assets><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/fuse/fuse.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/tablesort/tablesort.min.js></script><script type=text/javascript src=/lib/topbar/topbar.min.js></script><script type=text/javascript src=/lib/pjax/pjax.min.js></script><script type=text/javascript src=/js/theme.min.js defer></script></div><div class=pjax-assets><script type=text/javascript>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",maxShownLines:20},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50,threshold:.3,type:"fuse",useExtendedSearch:!1},table:{sort:!0}}</script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js defer></script><script type=text/javascript src=/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/js/katex.min.js defer></script><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/katex/copy-tex.min.css><noscript><link rel=stylesheet href=/lib/katex/copy-tex.min.css></noscript></div></body></html>